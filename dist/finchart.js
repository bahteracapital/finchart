!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var i=t();for(var r in i)("object"==typeof exports?exports:e)[r]=i[r]}}(self,(function(){return(()=>{"use strict";var e={433:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.ChartType=void 0,(i=t.ChartType||(t.ChartType={})).Line="line",i.Bar="bar",i.Area="area",i.Candlestick="candlestick"},853:(e,t)=>{var i=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.OHLC=void 0;var r=function(){function e(t,i,r,o,n,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var l=new Date(t.replace(" ","T")),a=l.getTime()-72e5-6e4*l.getTimezoneOffset();this.datetime=new Date(a),this.open=i,this.high=r,this.low=o,this.close=n,this.volume=s||void 0}return i(e,[{key:"range",get:function(){return this.high-this.low}},{key:"barRange",get:function(){return this.close-this.open}},{key:"direction",get:function(){return this.barRange>0?"bull":this.barRange<0?"bear":"flat"}}]),e}();t.OHLC=r},961:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultChartOptions=void 0;var r=i(433),o=i(925);t.DefaultChartOptions={type:r.ChartType.Candlestick,timeframe:o.Timeframe.H1,displayFlag:!0}},163:(e,t)=>{var i=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.PriceAxis=void 0;var r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.parent=t,this.initStyle(),this.drawElement(),this.plotPriceLabels(),this.parent.options.displayFlag&&this.drawFlag()}return i(e,[{key:"initStyle",value:function(){this.parent.addStyle("\n            .finchart .price-axis {\n                position: absolute;\n                top: "+this.parent.style.toolbarHeight+"px;\n                right: 0;\n                width: "+this.parent.style.priceAxisWidth+"px;\n                height: "+(this.parent.style.timeAxisHeight+this.parent.viewportSize.height)+"px;\n                border-left: 2px solid "+this.parent.style.borderColor+";\n                background: "+this.parent.style.bgColor+"BB;\n                overflow: hidden;\n            }\n            .finchart .price-axis .price {\n                position: absolute;\n                left: 10px;\n                line-height: 20px;\n                margin-top: -10px;\n                color: "+this.parent.style.labelColor+";\n            }\n            .finchart .price-axis .price-flag {\n                position: absolute;\n                left: 0;\n                height: 20px;\n                margin-top: -15px;\n                padding: 5px 10px;\n                line-height: 20px;\n                z-index: 1000;\n                color: #FFF;\n                border-radius: 4px;\n            }\n        ")}},{key:"drawElement",value:function(){this.element=document.createElement("div"),this.element.className="price-axis",this.parent.element.appendChild(this.element)}},{key:"plotPriceLabels",value:function(){this.element.innerHTML="";for(var e=this.parent.bound.range/this.parent.maximumDataHeight,t=0;t<=this.parent.maximumDataHeight;t++){var i=document.createElement("div");i.className="price",i.innerText=(this.parent.bound.maxPrice-e*t).toString().padEnd(7,"0").slice(0,7),i.style.top=this.parent.viewportSize.height*this.parent.padding+t*this.parent.gridSize.height+"px",this.element.appendChild(i)}}},{key:"drawFlag",value:function(){var e=this.parent.data[0],t=this.parent.viewportSize.height*this.parent.padding+this.parent.pointSize.y*(this.parent.bound.maxPrice-e.close),i=this.parent.style[e.direction+"Color"],r=document.createElement("div");r.className="price-flag",r.innerText=e.close.toString().padEnd(7,"0").substr(0,7),r.style.background="linear-gradient(270deg, "+i+"AA, "+i+"EE)",r.style.top=t+"px",t<this.parent.viewportSize.height&&this.element.appendChild(r)}}]),e}();t.PriceAxis=r},868:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultChartStyle=void 0,t.DefaultChartStyle={bgColor:"#141420",labelColor:"#666677",gridColor:"#26262f",borderColor:"#343440",bullColor:"#00A562",bearColor:"#BF2121",flatColor:"yellow",toolbarHeight:35,priceAxisWidth:75,timeAxisHeight:55,font:"14px Helvetica, Arial, sans-serif"}},332:(e,t,i)=>{var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.TimeAxis=void 0;var o=i(925),n=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.viewport=i,this.plotDateTimeLabels()}return r(e,[{key:"plotDateTimeLabels",value:function(){var e=this;this.element.innerHTML="";for(var t=0,i=function(i){var r=e.viewport.displayData[i],n=e.viewport.displayData[i-1],s="",l=r?e.viewport.displayData[i].datetime:new Date;if(e.viewport.options.timeframe===o.Timeframe.H1&&(s=l.getHours()+":00"),i%6==0){var a=document.createElement("div");a.className="time";var h=3*e.viewport.gridSize.width,d=(i*e.viewport.gridSize.width+e.viewport.style.priceAxisWidth*e.viewport.pixelRatio+e.viewport.padding*e.viewport.width-h-e.viewport.scrollPos.x)/e.viewport.pixelRatio;a.innerText=s,a.style.color=e.viewport.style.labelColor,a.style.position="absolute",a.style.top="10px",a.style.right=d+"px",a.style.textAlign="center",a.style.width=h+"px",d>=-1*e.viewport.style.priceAxisWidth&&e.element.appendChild(a)}!function(){if(0==i&&r){var o=document.createElement("div"),s=(e.viewport.gridSize.width,(e.viewport.style.priceAxisWidth*e.viewport.pixelRatio+e.viewport.padding*e.viewport.width+e.viewport.gridSize.width*i-e.viewport.scrollPos.x)/e.viewport.pixelRatio);o.className="period",o.id="period-"+r.datetime.getDate()+"-"+r.datetime.getMonth(),o.innerText=r.datetime.getDate().toString().padStart(2,"0")+"/"+(r.datetime.getMonth()+1).toString().padStart(2,"0"),o.style.height=e.viewport.style.timeAxisHeight+"px",o.style.position="absolute",o.style.top="0",o.style.right=s+"px",o.style.paddingTop="30px",o.style.boxSizing="border-box",o.style.borderLeft="1px solid "+e.viewport.style.gridColor,o.style.color=e.viewport.style.labelColor,o.style.textAlign="center",s<=e.viewport.width/e.viewport.pixelRatio&&e.element.appendChild(o)}else if(r&&n)if(n.datetime.getDate()!==r.datetime.getDate()){var l=document.createElement("div"),a=(e.viewport.gridSize.width,(e.viewport.style.priceAxisWidth*e.viewport.pixelRatio+e.viewport.padding*e.viewport.width+e.viewport.gridSize.width*i-e.viewport.scrollPos.x)/e.viewport.pixelRatio);l.className="period",l.id="period-"+r.datetime.getDate()+"-"+r.datetime.getMonth(),l.innerText=r.datetime.getDate().toString().padStart(2,"0")+"/"+(r.datetime.getMonth()+1).toString().padStart(2,"0"),l.style.height=e.viewport.style.timeAxisHeight+"px",l.style.position="absolute",l.style.top="0",l.style.right=a+"px",l.style.paddingTop="30px",l.style.boxSizing="border-box",l.style.borderLeft="1px solid "+e.viewport.style.gridColor,l.style.color=e.viewport.style.labelColor,l.style.textAlign="center",a<=e.viewport.width/e.viewport.pixelRatio&&e.element.appendChild(l),t=i}else{var h=e.element.querySelector("#period-"+r.datetime.getDate()+"-"+r.datetime.getMonth());h&&(h.style.width=e.viewport.gridSize.width*(i-t+1)/e.viewport.pixelRatio+"px")}}()},r=0;r<=this.viewport.dataCursor.max;r++)i(r)}}]),e}();t.TimeAxis=n},925:(e,t)=>{var i;Object.defineProperty(t,"__esModule",{value:!0}),t.Timeframe=void 0,(i=t.Timeframe||(t.Timeframe={})).M1="M1",i.M5="M5",i.M15="M15",i.M30="M30",i.H1="H1",i.H4="H4",i.D1="D1",i.W1="W1",i.MN="MN"},310:(e,t)=>{var i=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();Object.defineProperty(t,"__esModule",{value:!0}),t.Toolbar=void 0;var r=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.viewport=i,this.initStyle(),this.initSymbol(),this.initTimeframe(),this.initChartType(),this.initFullscreenTrigger()}return i(e,[{key:"initStyle",value:function(){this.element.style.display="flex"}},{key:"initSymbol",value:function(){var e=document.createElement("div");e.className="symbol",e.innerHTML='<strong class="name">USDJPY</strong>',e.style.color=this.viewport.style.labelColor,e.style.height=this.viewport.style.toolbarHeight+"px",e.style.lineHeight=this.viewport.style.toolbarHeight+"px",e.style.boxSizing="border-box",e.style.borderRight="1px solid "+this.viewport.style.borderColor,e.style.padding="0 10px",this.element.appendChild(e)}},{key:"initTimeframe",value:function(){var e=document.createElement("div");e.className="timeframe",e.innerHTML="H1",e.style.color=this.viewport.style.labelColor,e.style.height=this.viewport.style.toolbarHeight+"px",e.style.lineHeight=this.viewport.style.toolbarHeight+"px",e.style.boxSizing="border-box",e.style.borderRight="1px solid "+this.viewport.style.borderColor,e.style.padding="0 10px",this.element.appendChild(e)}},{key:"initChartType",value:function(){var e=document.createElement("div");e.className="chart-type",e.innerHTML="Candlestick",e.style.color=this.viewport.style.labelColor,e.style.height=this.viewport.style.toolbarHeight+"px",e.style.lineHeight=this.viewport.style.toolbarHeight+"px",e.style.boxSizing="border-box",e.style.borderRight="1px solid "+this.viewport.style.borderColor,e.style.padding="0 10px",this.element.appendChild(e)}},{key:"initFullscreenTrigger",value:function(){var e=document.createElement("div");e.className="fullscreen-trigger",e.innerHTML="Fullscreen",e.style.color=this.viewport.style.labelColor,e.style.height=this.viewport.style.toolbarHeight+"px",e.style.lineHeight=this.viewport.style.toolbarHeight+"px",e.style.boxSizing="border-box",e.style.borderRight="1px solid "+this.viewport.style.borderColor,e.style.padding="0 10px",this.element.appendChild(e)}}]),e}();t.Toolbar=r},223:(e,t,i)=>{var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();function o(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Viewport=void 0;var n=i(433),s=function(){function e(t,i,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=t,this.padding=.05,this.scrollPos={x:0,y:0},this.scale={x:1,y:1},this.pointSize={x:9,y:9},this.data=i,this.options=r,this.style=o,this.pixelRatio=window.devicePixelRatio,1!==this.pixelRatio&&(this.pointSize={x:this.pointSize.x*this.pixelRatio,y:this.pointSize.y*this.pixelRatio},this.element.width=this.pixelRatio*this.element.width,this.element.height=this.pixelRatio*this.element.height),this.render()}return r(e,[{key:"render",value:function(){var e=this.element.getContext("2d");this.width=this.element.width,this.height=this.element.height,e.clearRect(0,0,this.width,this.height),this.maxDataHeight=10,this.gridSize={height:this.scale.y*this.innerHeight/this.maxDataHeight,width:this.scale.x*this.pointSize.x};var t,i=Math.ceil(this.scrollPos.x/this.gridSize.width);t=this.scrollPos.x>=this.padding*this.width?Math.floor((this.scrollPos.x-this.padding*this.width)/this.gridSize.width):0,this.maxDataLength=Math.ceil(this.innerWidth/this.gridSize.width),this.dataCursor={min:t,max:i+(this.maxDataLength-1)},this.dataCursor.max>this.data.length&&(this.dataCursor.max=this.data.length),this.displayData=this.data.slice(0,this.dataCursor.max);var r=void 0,s=void 0,l=void 0,a=void 0,h=this.data.slice(this.dataCursor.min,this.dataCursor.max);"number"==typeof this.displayData[0]?(r=Math.min.apply(Math,o(h)),s=Math.max.apply(Math,o(h)),this.bound={minPrice:r,maxPrice:s,range:s-r,timeRange:this.displayData.length}):(r=Math.floor(100*Math.min.apply(Math,o(h.map((function(e){return e.low})))))/100,s=Math.ceil(100*Math.max.apply(Math,o(h.map((function(e){return e.high})))))/100,l=new Date(Math.min.apply(Math,o(this.displayData.map((function(e){return e.datetime.getTime()}))))),a=new Date(Math.max.apply(Math,o(this.displayData.map((function(e){return e.datetime.getTime()}))))),this.bound={minPrice:r,maxPrice:s,minDateTime:l,maxDateTime:a,range:s-r,timeRange:a.getTime()-l.getTime()}),this.pointSize.y=this.innerHeight/this.bound.range,this.drawGrids(),this.options.type===n.ChartType.Candlestick&&this.plotCandlesticks(),this.drawFlag()}},{key:"drawGrids",value:function(){var e=this.element.getContext("2d");e.strokeStyle=this.style.gridColor;for(var t=0;t<=this.maxDataHeight;t++){var i=this.padding*this.height+this.gridSize.height*t;e.beginPath(),e.setLineDash([10,5]),e.moveTo(0,i),e.lineTo(this.width,i),e.stroke()}e.strokeStyle=this.style.gridColor;for(var r=0;r<=this.dataCursor.max;r+=6){var o=this.width*(1-this.padding)-this.gridSize.width*r;e.beginPath(),e.setLineDash([10,5]),e.moveTo(o+this.scrollPos.x,0),e.lineTo(o+this.scrollPos.x,this.height),e.stroke()}}},{key:"plotLine",value:function(){}},{key:"plotBars",value:function(){}},{key:"plotArea",value:function(){}},{key:"plotCandlesticks",value:function(){for(var e=this.element.getContext("2d"),t=0;t<=this.dataCursor.max;t++){var i=this.displayData[t];if(i){"bull"===i.direction?(e.strokeStyle=this.style.bullColor,e.fillStyle=this.style.bullColor):"bear"===i.direction?(e.strokeStyle=this.style.bearColor,e.fillStyle=this.style.bearColor):(e.strokeStyle=this.style.flatColor,e.fillStyle=this.style.flatColor);var r=this.width*(1-this.padding)-this.gridSize.width*t,o=this.height*this.padding+this.pointSize.y*(this.bound.maxPrice-i.high);e.beginPath(),e.setLineDash([]),e.moveTo(r+this.scrollPos.x,o),e.lineTo(r+this.scrollPos.x,o+this.pointSize.y*i.range),e.stroke();var n={x:r-.5*this.gridSize.width+Math.floor(this.gridSize.width/4)+1+this.scrollPos.x,y:0,width:this.gridSize.width-Math.floor(this.gridSize.width/2),height:this.pointSize.y*Math.abs(i.close-i.open)};"bear"===i.direction?n.y=o+this.pointSize.y*(i.high-i.open):"bull"===i.direction?n.y=o+this.pointSize.y*(i.high-i.close):(n.y=o+this.pointSize.y*(i.high-i.open),n.height=1),e.fillRect(n.x,n.y,n.width,n.height)}}}},{key:"drawFlag",value:function(){var e=this.data[0],t=this.element.getContext("2d"),i=this.height*this.padding+this.pointSize.y*(this.bound.maxPrice-e.close);"bull"===e.direction?(t.strokeStyle=this.style.bullColor,t.fillStyle=this.style.bullColor):"bear"===e.direction?(t.strokeStyle=this.style.bearColor,t.fillStyle=this.style.bearColor):(t.strokeStyle=this.style.flatColor,t.fillStyle=this.style.flatColor),t.beginPath(),t.setLineDash([10,5]),t.moveTo(0,i),t.lineTo(this.width,i),t.stroke(),t.setLineDash([])}},{key:"setScaleX",value:function(e){var t=this.scale.x+e;if(t<=2&&t>=.5){this.scale.x=t;var i=this.scrollPos.x/this.gridSize.width;this.scrollPos.x=i*this.gridSize.width}}},{key:"innerHeight",get:function(){return this.height-2*this.padding*this.height}},{key:"innerWidth",get:function(){return this.width*(1-this.padding)}}]),e}();t.Viewport=s}},t={};function i(r){var o=t[r];if(void 0!==o)return o.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,i),n.exports}var r={};return(()=>{var e=r,t=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}();Object.defineProperty(e,"__esModule",{value:!0}),e.Finchart=void 0;var o=i(853),n=i(961),s=i(163),l=i(868),a=i(332),h=i(310),d=i(223),p=function(){function e(t,i,r,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=this.options=void 0!==r?r:n.DefaultChartOptions,this.style=this.style=void 0!==o?o:l.DefaultChartStyle,this.initStyle(),this.data=this.prepareData(i),this.configureGUI(t),this.registerEvents()}return t(e,[{key:"initStyle",value:function(){document.querySelectorAll("head style.finchart").forEach((function(e){e.remove()})),this.styleSheet=document.createElement("style"),this.styleSheet.className="finchart",this.styleSheet.innerHTML="",document.querySelector("head").appendChild(this.styleSheet)}},{key:"addStyle",value:function(e){this.styleSheet.innerHTML+=e}},{key:"prepareData",value:function(e){var t=[],i="number";try{if(isNaN(e[0])&&(i="ohlc"),"number"===i){var r=!0,n=!1,s=void 0;try{for(var l,a=e[Symbol.iterator]();!(r=(l=a.next()).done);r=!0){var h=l.value;if(isNaN(h))throw"Data type must be consistent (Array<number>)";t.push(h)}}catch(e){n=!0,s=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw s}}}if("ohlc"===i){var d=!0,p=!1,c=void 0;try{for(var u,y=e[Symbol.iterator]();!(d=(u=y.next()).done);d=!0){var v=u.value;if(!isNaN(v))throw"Data type must be consistent (Array<OHLC>)";t.push(new o.OHLC(v[0],v[1],v[2],v[3],v[4],v[5]))}}catch(e){p=!0,c=e}finally{try{!d&&y.return&&y.return()}finally{if(p)throw c}}}}catch(e){console.error("Prepare Data Error: "+e)}finally{return t.reverse()}}},{key:"configureGUI",value:function(e){try{if(this.element=document.querySelector(e),null===this.element)throw"Cannot find "+e;this.element.className="finchart",this.element.style.position="relative",this.element.style.overflow="hidden",this.element.style.backgroundColor=this.style.bgColor,this.element.style.font=this.style.font,this.configureViewport(),this.configureTimeAxis(),this.configurePriceAxis(),this.configureToolbar()}catch(e){console.error("Initializing Error: "+e)}}},{key:"configureToolbar",value:function(){var e=document.createElement("div");e.setAttribute("class","toolbar"),e.style.width="100%",e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.height=this.style.toolbarHeight+"px",e.style.borderBottom="2px solid "+this.style.borderColor,this.toolbar=new h.Toolbar(e,this.viewport),this.element.appendChild(this.toolbar.element)}},{key:"configureViewport",value:function(){var e=document.createElement("canvas");e.setAttribute("class","viewport"),e.style.position="absolute",e.style.top=this.style.toolbarHeight+"px",e.style.left="0",e.width=this.element.offsetWidth-this.style.priceAxisWidth,e.height=this.element.offsetHeight-this.style.toolbarHeight-this.style.timeAxisHeight,e.style.width=e.width+"px",e.style.height=e.height+"px",this.element.appendChild(e),this.viewport=new d.Viewport(e,this.data,this.options,this.style)}},{key:"configurePriceAxis",value:function(){this.priceAxis=new s.PriceAxis(this)}},{key:"configureTimeAxis",value:function(){var e=document.createElement("div");e.setAttribute("class","time-axis"),e.style.width="100%",e.style.height=this.style.timeAxisHeight+"px",e.style.position="absolute",e.style.bottom="0",e.style.left="0",e.style.borderTop="2px solid "+this.style.borderColor,e.style.overflow="hidden",e.style.cursor="ew-resize",e.style.userSelect="none",this.timeAxis=new a.TimeAxis(e,this.viewport),this.element.appendChild(this.timeAxis.element)}},{key:"renderElements",value:function(){this.viewport.element.width=this.viewport.pixelRatio*(this.element.offsetWidth-this.style.priceAxisWidth),this.viewport.element.height=this.viewport.pixelRatio*(this.element.offsetHeight-this.style.toolbarHeight-this.style.timeAxisHeight),this.viewport.element.style.width=this.element.offsetWidth-this.style.priceAxisWidth+"px",this.viewport.element.style.height=this.element.offsetHeight-this.style.toolbarHeight-this.style.timeAxisHeight+"px",this.viewport.render(),this.priceAxis.plotPriceLabels(),this.priceAxis.drawFlag(),this.timeAxis.plotDateTimeLabels()}},{key:"registerEvents",value:function(){var e=this;window.addEventListener("resize",(function(){e.renderElements()})),this.viewport.element.addEventListener("wheel",(function(t){e.viewport.scrollPos.x-=e.viewport.pixelRatio*t.deltaX,e.renderElements(),e.viewport.scrollPos.x<0&&window.requestAnimationFrame((function(){e.viewport.scrollPos.x=0,e.renderElements()})),e.viewport.scrollPos.x>e.data.length*e.viewport.gridSize.width-e.viewport.width+100&&window.requestAnimationFrame((function(){e.viewport.scrollPos.x=e.data.length*e.viewport.gridSize.width-e.viewport.width+100,e.renderElements()}))}));var t=0,i=function(i){e.viewport.scrollPos.x-=e.viewport.pixelRatio*(t-i.clientX),t=i.clientX,e.renderElements(),e.viewport.scrollPos.x<0&&window.requestAnimationFrame((function(){e.viewport.scrollPos.x=0,e.renderElements()})),e.viewport.scrollPos.x>e.data.length*e.viewport.gridSize.width-e.viewport.width+100&&window.requestAnimationFrame((function(){e.viewport.scrollPos.x=e.data.length*e.viewport.gridSize.width-e.viewport.width+100,e.renderElements()}))};this.viewport.element.addEventListener("mousedown",(function(r){t=r.clientX,e.viewport.element.addEventListener("mousemove",i),e.viewport.element.addEventListener("mouseup",(function(t){e.viewport.element.removeEventListener("mousemove",i)}))}));var r=0,o=0,n=function(t){var i=r-t.touches[0].clientX;e.viewport.scrollPos.x-=e.viewport.pixelRatio*i,Math.round(i/(Date.now()-o)*10),r=t.touches[0].clientX,o=Date.now(),e.renderElements(),e.viewport.scrollPos.x<0&&window.requestAnimationFrame((function(){e.viewport.scrollPos.x=0,e.renderElements()})),e.viewport.scrollPos.x>e.data.length*e.viewport.gridSize.width-e.viewport.width+100&&window.requestAnimationFrame((function(){e.viewport.scrollPos.x=e.data.length*e.viewport.gridSize.width-e.viewport.width+100,e.renderElements()}))};this.viewport.element.addEventListener("touchstart",(function(t){r=t.touches[0].clientX,o=Date.now(),e.viewport.element.addEventListener("touchmove",n),e.viewport.element.addEventListener("touchend",(function(t){e.viewport.element.removeEventListener("touchmove",n),e.viewport.scrollPos.x<0&&window.requestAnimationFrame((function(){e.viewport.scrollPos.x=0,e.renderElements()}))}))})),this.timeAxis.element.addEventListener("mousedown",(function(t){var i=t.clientX,r=function(t){var r=(i-t.clientX)/1e3;e.viewport.setScaleX(r),e.renderElements(),i=t.clientX};e.timeAxis.element.addEventListener("mousemove",r),e.timeAxis.element.addEventListener("mouseup",(function(){e.timeAxis.element.removeEventListener("mousemove",r)}))}))}},{key:"devicePixelRatio",get:function(){return window.devicePixelRatio}},{key:"viewportSize",get:function(){return{width:this.viewport.width/this.devicePixelRatio,height:this.viewport.height/this.devicePixelRatio}}},{key:"bound",get:function(){return this.viewport.bound}},{key:"maximumDataHeight",get:function(){return this.viewport.maxDataHeight}},{key:"padding",get:function(){return this.viewport.padding}},{key:"gridSize",get:function(){return{width:this.viewport.gridSize.width/this.devicePixelRatio,height:this.viewport.gridSize.height/this.devicePixelRatio}}},{key:"pointSize",get:function(){return{x:this.viewport.pointSize.x/this.devicePixelRatio,y:this.viewport.pointSize.y/this.devicePixelRatio}}}]),e}();e.Finchart=p,p.count=0})(),r})()}));
//# sourceMappingURL=finchart.js.map