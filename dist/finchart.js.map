{"version":3,"file":"finchart.js","mappings":"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","sources":["webpack://finchart/webpack/universalModuleDefinition","webpack://finchart/./build-babel/charttype.js","webpack://finchart/./build-babel/data.js","webpack://finchart/./build-babel/options.js","webpack://finchart/./build-babel/priceaxis.js","webpack://finchart/./build-babel/style.js","webpack://finchart/./build-babel/timeaxis.js","webpack://finchart/./build-babel/timeframe.js","webpack://finchart/./build-babel/toolbar.js","webpack://finchart/./build-babel/viewport.js","webpack://finchart/webpack/bootstrap","webpack://finchart/./build-babel/finchart.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, function() {\nreturn ","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChartType = void 0;\nvar ChartType;\n(function (ChartType) {\n    ChartType[\"Line\"] = \"line\";\n    ChartType[\"Bar\"] = \"bar\";\n    ChartType[\"Area\"] = \"area\";\n    ChartType[\"Candlestick\"] = \"candlestick\";\n})(ChartType = exports.ChartType || (exports.ChartType = {}));\n//# sourceMappingURL=charttype.js.map","\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OHLC = void 0;\n\nvar OHLC = function () {\n    // Warning! This will assume the date time is in UTC + 2 timezone\n    function OHLC(datetime, open, high, low, close, volume) {\n        _classCallCheck(this, OHLC);\n\n        var utc = new Date(datetime.replace(\" \", \"T\"));\n        var localDate = utc.getTime() - 2 * 3600000 - utc.getTimezoneOffset() * 60000;\n        this.datetime = new Date(localDate);\n        this.open = open;\n        this.high = high;\n        this.low = low;\n        this.close = close;\n        this.volume = volume ? volume : undefined;\n    }\n    // Computed properties\n\n\n    _createClass(OHLC, [{\n        key: \"range\",\n        get: function get() {\n            return this.high - this.low;\n        }\n    }, {\n        key: \"barRange\",\n        get: function get() {\n            return this.close - this.open;\n        }\n    }, {\n        key: \"direction\",\n        get: function get() {\n            if (this.barRange > 0) return \"bull\";\n            if (this.barRange < 0) return \"bear\";\n            return \"flat\";\n        }\n    }]);\n\n    return OHLC;\n}();\n\nexports.OHLC = OHLC;\n//# sourceMappingURL=data.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DefaultChartOptions = void 0;\nvar charttype_1 = require(\"./charttype\");\nvar timeframe_1 = require(\"./timeframe\");\nexports.DefaultChartOptions = {\n    type: charttype_1.ChartType.Candlestick,\n    timeframe: timeframe_1.Timeframe.H1,\n    displayFlag: true\n};\n//# sourceMappingURL=options.js.map","\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PriceAxis = void 0;\n/**\n * Class that represent price-axis of the chart\n */\n\nvar PriceAxis = function () {\n    /**\n     * @constructor\n     * @param parent {Finchart}\n     */\n    function PriceAxis(parent) {\n        _classCallCheck(this, PriceAxis);\n\n        this.parent = parent;\n        this.initStyle();\n        this.drawElement();\n        this.plotPriceLabels();\n        if (this.parent.options.displayFlag) {\n            this.drawFlag();\n        }\n    }\n    /** Add CSS to document */\n\n\n    _createClass(PriceAxis, [{\n        key: \"initStyle\",\n        value: function initStyle() {\n            this.parent.addStyle(\"\\n            .finchart .price-axis {\\n                position: absolute;\\n                top: \" + this.parent.style.toolbarHeight + \"px;\\n                right: 0;\\n                width: \" + this.parent.style.priceAxisWidth + \"px;\\n                height: \" + (this.parent.style.timeAxisHeight + this.parent.viewportSize.height) + \"px;\\n                border-left: 2px solid \" + this.parent.style.borderColor + \";\\n                background: \" + (this.parent.style.bgColor + \"BB\") + \";\\n                overflow: hidden;\\n            }\\n            .finchart .price-axis .price {\\n                position: absolute;\\n                left: 10px;\\n                line-height: 20px;\\n                margin-top: -10px;\\n                color: \" + this.parent.style.labelColor + \";\\n            }\\n            .finchart .price-axis .price-flag {\\n                position: absolute;\\n                left: 0;\\n                height: 20px;\\n                margin-top: -15px;\\n                padding: 5px 10px;\\n                line-height: 20px;\\n                z-index: 1000;\\n                color: #FFF;\\n                border-radius: 4px;\\n            }\\n        \");\n        }\n        /** Draws HTML element of price axis */\n\n    }, {\n        key: \"drawElement\",\n        value: function drawElement() {\n            // Create HTML element\n            this.element = document.createElement(\"div\");\n            this.element.className = \"price-axis\";\n            // Append to parent\n            this.parent.element.appendChild(this.element);\n        }\n        /** Plot price labels */\n\n    }, {\n        key: \"plotPriceLabels\",\n        value: function plotPriceLabels() {\n            this.element.innerHTML = \"\";\n            var delta = this.parent.bound.range / this.parent.maximumDataHeight;\n            for (var index = 0; index <= this.parent.maximumDataHeight; index++) {\n                var label = document.createElement(\"div\");\n                label.className = \"price\";\n                label.innerText = (this.parent.bound.maxPrice - delta * index).toString().padEnd(7, \"0\").slice(0, 7);\n                label.style.top = this.parent.viewportSize.height * this.parent.padding + index * this.parent.gridSize.height + \"px\";\n                this.element.appendChild(label);\n            }\n        }\n        /** Draw current price flag */\n\n    }, {\n        key: \"drawFlag\",\n        value: function drawFlag() {\n            var candle = this.parent.data[0];\n            var ypos = this.parent.viewportSize.height * this.parent.padding + this.parent.pointSize.y * (this.parent.bound.maxPrice - candle.close);\n            var color = this.parent.style[candle.direction + \"Color\"];\n            var element = document.createElement(\"div\");\n            element.className = \"price-flag\";\n            element.innerText = candle.close.toString().padEnd(7, \"0\").substr(0, 7);\n            element.style.background = \"linear-gradient(270deg, \" + (color + \"AA\") + \", \" + (color + \"EE\") + \")\";\n            element.style.top = ypos + \"px\";\n            if (ypos < this.parent.viewportSize.height) {\n                this.element.appendChild(element);\n            }\n        }\n    }]);\n\n    return PriceAxis;\n}();\n\nexports.PriceAxis = PriceAxis;\n//# sourceMappingURL=priceaxis.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DefaultChartStyle = void 0;\nexports.DefaultChartStyle = {\n    bgColor: \"#141420\",\n    labelColor: \"#666677\",\n    gridColor: \"#26262f\",\n    borderColor: \"#343440\",\n    bullColor: \"#00A562\",\n    bearColor: \"#BF2121\",\n    flatColor: \"yellow\",\n    toolbarHeight: 35,\n    priceAxisWidth: 75,\n    timeAxisHeight: 55,\n    font: \"14px Helvetica, Arial, sans-serif\"\n};\n//# sourceMappingURL=style.js.map","\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TimeAxis = void 0;\nvar timeframe_1 = require(\"./timeframe\");\n\nvar TimeAxis = function () {\n    function TimeAxis(element, viewport) {\n        _classCallCheck(this, TimeAxis);\n\n        this.element = element;\n        this.viewport = viewport;\n        this.plotDateTimeLabels();\n    }\n\n    _createClass(TimeAxis, [{\n        key: \"plotDateTimeLabels\",\n        value: function plotDateTimeLabels() {\n            var _this = this;\n\n            this.element.innerHTML = \"\";\n            var lastPeriodIndex = 0;\n\n            var _loop = function _loop(index) {\n                var item = _this.viewport.displayData[index];\n                var previousItem = _this.viewport.displayData[index - 1];\n                var timeLabelText = \"\";\n                var date = item ? _this.viewport.displayData[index].datetime : new Date();\n                if (_this.viewport.options.timeframe === timeframe_1.Timeframe.H1) {\n                    timeLabelText = date.getHours() + \":00\";\n                }\n                // Time label\n                if (index % 6 === 0) {\n                    var label = document.createElement(\"div\");\n                    label.className = \"time\";\n                    var width = _this.viewport.gridSize.width * 3;\n                    var rightPos = (index * _this.viewport.gridSize.width + _this.viewport.style.priceAxisWidth * _this.viewport.pixelRatio + _this.viewport.padding * _this.viewport.width - width - _this.viewport.scrollPos.x) / _this.viewport.pixelRatio;\n                    label.innerText = timeLabelText;\n                    label.style.color = _this.viewport.style.labelColor;\n                    label.style.position = \"absolute\";\n                    label.style.top = \"10px\";\n                    label.style.right = rightPos + \"px\";\n                    label.style.textAlign = \"center\";\n                    label.style.width = width + \"px\";\n                    if (rightPos >= -1 * _this.viewport.style.priceAxisWidth) {\n                        _this.element.appendChild(label);\n                    }\n                }\n                // Period label\n                (function () {\n                    if (index == 0 && item) {\n                        var periodLabel = document.createElement(\"div\");\n                        var _width = _this.viewport.gridSize.width;\n                        var _rightPos = (_this.viewport.style.priceAxisWidth * _this.viewport.pixelRatio + _this.viewport.padding * _this.viewport.width + _this.viewport.gridSize.width * index - _this.viewport.scrollPos.x) / _this.viewport.pixelRatio;\n                        periodLabel.className = \"period\";\n                        periodLabel.id = \"period-\" + item.datetime.getDate() + \"-\" + item.datetime.getMonth();\n                        periodLabel.innerText = item.datetime.getDate().toString().padStart(2, \"0\") + \"/\" + (item.datetime.getMonth() + 1).toString().padStart(2, \"0\");\n                        periodLabel.style.height = _this.viewport.style.timeAxisHeight + \"px\";\n                        periodLabel.style.position = \"absolute\";\n                        periodLabel.style.top = \"0\";\n                        periodLabel.style.right = _rightPos + \"px\";\n                        periodLabel.style.paddingTop = \"30px\";\n                        periodLabel.style.boxSizing = \"border-box\";\n                        periodLabel.style.borderLeft = \"1px solid \" + _this.viewport.style.gridColor;\n                        periodLabel.style.color = _this.viewport.style.labelColor;\n                        periodLabel.style.textAlign = \"center\";\n                        if (_rightPos <= _this.viewport.width / _this.viewport.pixelRatio) {\n                            _this.element.appendChild(periodLabel);\n                        }\n                    } else if (item && previousItem) {\n                        if (previousItem.datetime.getDate() !== item.datetime.getDate()) {\n                            var _periodLabel = document.createElement(\"div\");\n                            var _width2 = _this.viewport.gridSize.width * 4;\n                            var _rightPos2 = (_this.viewport.style.priceAxisWidth * _this.viewport.pixelRatio + _this.viewport.padding * _this.viewport.width + _this.viewport.gridSize.width * index - _this.viewport.scrollPos.x) / _this.viewport.pixelRatio;\n                            _periodLabel.className = \"period\";\n                            _periodLabel.id = \"period-\" + item.datetime.getDate() + \"-\" + item.datetime.getMonth();\n                            _periodLabel.innerText = item.datetime.getDate().toString().padStart(2, \"0\") + \"/\" + (item.datetime.getMonth() + 1).toString().padStart(2, \"0\");\n                            _periodLabel.style.height = _this.viewport.style.timeAxisHeight + \"px\";\n                            _periodLabel.style.position = \"absolute\";\n                            _periodLabel.style.top = \"0\";\n                            _periodLabel.style.right = _rightPos2 + \"px\";\n                            _periodLabel.style.paddingTop = \"30px\";\n                            _periodLabel.style.boxSizing = \"border-box\";\n                            _periodLabel.style.borderLeft = \"1px solid \" + _this.viewport.style.gridColor;\n                            _periodLabel.style.color = _this.viewport.style.labelColor;\n                            _periodLabel.style.textAlign = \"center\";\n                            if (_rightPos2 <= _this.viewport.width / _this.viewport.pixelRatio) {\n                                _this.element.appendChild(_periodLabel);\n                            }\n                            lastPeriodIndex = index;\n                        } else {\n                            var prevLabel = _this.element.querySelector(\"#period-\" + item.datetime.getDate() + \"-\" + item.datetime.getMonth());\n                            if (prevLabel) {\n                                prevLabel.style.width = _this.viewport.gridSize.width * (index - lastPeriodIndex + 1) / _this.viewport.pixelRatio + \"px\";\n                            }\n                        }\n                    }\n                })();\n            };\n\n            for (var index = 0; index <= this.viewport.dataCursor.max; index++) {\n                _loop(index);\n            }\n        }\n    }]);\n\n    return TimeAxis;\n}();\n\nexports.TimeAxis = TimeAxis;\n//# sourceMappingURL=timeaxis.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Timeframe = void 0;\nvar Timeframe;\n(function (Timeframe) {\n    Timeframe[\"M1\"] = \"M1\";\n    Timeframe[\"M5\"] = \"M5\";\n    Timeframe[\"M15\"] = \"M15\";\n    Timeframe[\"M30\"] = \"M30\";\n    Timeframe[\"H1\"] = \"H1\";\n    Timeframe[\"H4\"] = \"H4\";\n    Timeframe[\"D1\"] = \"D1\";\n    Timeframe[\"W1\"] = \"W1\";\n    Timeframe[\"MN\"] = \"MN\"; // 1-month\n})(Timeframe = exports.Timeframe || (exports.Timeframe = {}));\n//# sourceMappingURL=timeframe.js.map","\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Toolbar = void 0;\n\nvar Toolbar = function () {\n    function Toolbar(element, viewport) {\n        _classCallCheck(this, Toolbar);\n\n        this.element = element;\n        this.viewport = viewport;\n        this.initStyle();\n        this.initSymbol();\n        this.initTimeframe();\n        this.initChartType();\n        this.initFullscreenTrigger();\n    }\n\n    _createClass(Toolbar, [{\n        key: \"initStyle\",\n        value: function initStyle() {\n            this.element.style.display = \"flex\";\n        }\n    }, {\n        key: \"initSymbol\",\n        value: function initSymbol() {\n            var symbolElement = document.createElement(\"div\");\n            symbolElement.className = \"symbol\";\n            symbolElement.innerHTML = \"<strong class=\\\"name\\\">USDJPY</strong>\";\n            symbolElement.style.color = this.viewport.style.labelColor;\n            symbolElement.style.height = this.viewport.style.toolbarHeight + \"px\";\n            symbolElement.style.lineHeight = this.viewport.style.toolbarHeight + \"px\";\n            symbolElement.style.boxSizing = \"border-box\";\n            symbolElement.style.borderRight = \"1px solid \" + this.viewport.style.borderColor;\n            symbolElement.style.padding = \"0 10px\";\n            this.element.appendChild(symbolElement);\n        }\n    }, {\n        key: \"initTimeframe\",\n        value: function initTimeframe() {\n            var timeframeElement = document.createElement(\"div\");\n            timeframeElement.className = \"timeframe\";\n            timeframeElement.innerHTML = \"H1\";\n            timeframeElement.style.color = this.viewport.style.labelColor;\n            timeframeElement.style.height = this.viewport.style.toolbarHeight + \"px\";\n            timeframeElement.style.lineHeight = this.viewport.style.toolbarHeight + \"px\";\n            timeframeElement.style.boxSizing = \"border-box\";\n            timeframeElement.style.borderRight = \"1px solid \" + this.viewport.style.borderColor;\n            timeframeElement.style.padding = \"0 10px\";\n            this.element.appendChild(timeframeElement);\n        }\n    }, {\n        key: \"initChartType\",\n        value: function initChartType() {\n            var timeframeElement = document.createElement(\"div\");\n            timeframeElement.className = \"chart-type\";\n            timeframeElement.innerHTML = \"Candlestick\";\n            timeframeElement.style.color = this.viewport.style.labelColor;\n            timeframeElement.style.height = this.viewport.style.toolbarHeight + \"px\";\n            timeframeElement.style.lineHeight = this.viewport.style.toolbarHeight + \"px\";\n            timeframeElement.style.boxSizing = \"border-box\";\n            timeframeElement.style.borderRight = \"1px solid \" + this.viewport.style.borderColor;\n            timeframeElement.style.padding = \"0 10px\";\n            this.element.appendChild(timeframeElement);\n        }\n    }, {\n        key: \"initFullscreenTrigger\",\n        value: function initFullscreenTrigger() {\n            var timeframeElement = document.createElement(\"div\");\n            timeframeElement.className = \"fullscreen-trigger\";\n            timeframeElement.innerHTML = \"Fullscreen\";\n            timeframeElement.style.color = this.viewport.style.labelColor;\n            timeframeElement.style.height = this.viewport.style.toolbarHeight + \"px\";\n            timeframeElement.style.lineHeight = this.viewport.style.toolbarHeight + \"px\";\n            timeframeElement.style.boxSizing = \"border-box\";\n            timeframeElement.style.borderRight = \"1px solid \" + this.viewport.style.borderColor;\n            timeframeElement.style.padding = \"0 10px\";\n            this.element.appendChild(timeframeElement);\n        }\n    }]);\n\n    return Toolbar;\n}();\n\nexports.Toolbar = Toolbar;\n//# sourceMappingURL=toolbar.js.map","\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Viewport = void 0;\nvar charttype_1 = require(\"./charttype\");\n/** A viewport class that contains all the chart elements and drawings */\n\nvar Viewport = function () {\n    /** Create a viewport instance */\n    function Viewport(element, data, options, style) {\n        _classCallCheck(this, Viewport);\n\n        this.element = element;\n        this.padding = 0.05;\n        this.scrollPos = { x: 0, y: 0 };\n        this.scale = { x: 1, y: 1 };\n        this.pointSize = { x: 9, y: 9 };\n        this.data = data;\n        this.options = options;\n        this.style = style;\n        // Adjusting for high density display\n        this.pixelRatio = window.devicePixelRatio;\n        if (this.pixelRatio !== 1) {\n            this.pointSize = { x: this.pointSize.x * this.pixelRatio, y: this.pointSize.y * this.pixelRatio };\n            this.element.width = this.pixelRatio * this.element.width;\n            this.element.height = this.pixelRatio * this.element.height;\n        }\n        this.render();\n    }\n\n    _createClass(Viewport, [{\n        key: \"render\",\n\n        /** Render viewport */\n        value: function render() {\n            var context = this.element.getContext(\"2d\");\n            this.width = this.element.width;\n            this.height = this.element.height;\n            context.clearRect(0, 0, this.width, this.height);\n            this.maxDataHeight = 10;\n            this.gridSize = {\n                height: this.scale.y * this.innerHeight / this.maxDataHeight,\n                width: this.scale.x * this.pointSize.x\n            };\n            // Calculate data length\n            var scrolledPoints = Math.ceil(this.scrollPos.x / this.gridSize.width);\n            var startIndex = 0;\n            if (this.scrollPos.x >= this.padding * this.width) {\n                startIndex = Math.floor((this.scrollPos.x - this.padding * this.width) / this.gridSize.width);\n            } else {\n                startIndex = 0;\n            }\n            this.maxDataLength = Math.ceil(this.innerWidth / this.gridSize.width);\n            this.dataCursor = { min: startIndex, max: scrolledPoints + (this.maxDataLength - 1) };\n            if (this.dataCursor.max > this.data.length) {\n                this.dataCursor.max = this.data.length;\n            }\n            this.displayData = this.data.slice(0, this.dataCursor.max);\n            // Calculate bounds\n            var minPrice = void 0,\n                maxPrice = void 0,\n                minDateTime = void 0,\n                maxDateTime = void 0,\n                timeRange = void 0;\n            var cursorDisplayData = this.data.slice(this.dataCursor.min, this.dataCursor.max);\n            if (typeof this.displayData[0] === \"number\") {\n                minPrice = Math.min.apply(Math, _toConsumableArray(cursorDisplayData));\n                maxPrice = Math.max.apply(Math, _toConsumableArray(cursorDisplayData));\n                this.bound = { minPrice: minPrice, maxPrice: maxPrice, range: maxPrice - minPrice, timeRange: this.displayData.length };\n            } else {\n                minPrice = Math.floor(Math.min.apply(Math, _toConsumableArray(cursorDisplayData.map(function (v) {\n                    return v.low;\n                }))) * 100) / 100;\n                maxPrice = Math.ceil(Math.max.apply(Math, _toConsumableArray(cursorDisplayData.map(function (v) {\n                    return v.high;\n                }))) * 100) / 100;\n                minDateTime = new Date(Math.min.apply(Math, _toConsumableArray(this.displayData.map(function (v) {\n                    return v.datetime.getTime();\n                }))));\n                maxDateTime = new Date(Math.max.apply(Math, _toConsumableArray(this.displayData.map(function (v) {\n                    return v.datetime.getTime();\n                }))));\n                this.bound = { minPrice: minPrice, maxPrice: maxPrice, minDateTime: minDateTime, maxDateTime: maxDateTime, range: maxPrice - minPrice, timeRange: maxDateTime.getTime() - minDateTime.getTime() };\n            }\n            this.pointSize.y = this.innerHeight / this.bound.range;\n            this.drawGrids();\n            // Plot the chart\n            if (this.options.type === charttype_1.ChartType.Candlestick) {\n                this.plotCandlesticks();\n            }\n            this.drawFlag();\n        }\n        /** Render the underlying grids */\n\n    }, {\n        key: \"drawGrids\",\n        value: function drawGrids() {\n            // Draw horizontal grid\n            var context = this.element.getContext(\"2d\");\n            context.strokeStyle = this.style.gridColor;\n            for (var index = 0; index <= this.maxDataHeight; index++) {\n                var pos = this.padding * this.height + this.gridSize.height * index;\n                context.beginPath();\n                context.setLineDash([10, 5]);\n                context.moveTo(0, pos);\n                context.lineTo(this.width, pos);\n                context.stroke();\n            }\n            // Draw vertical grid\n            context.strokeStyle = this.style.gridColor;\n            for (var _index = 0; _index <= this.dataCursor.max; _index += 6) {\n                var _pos = this.width * (1 - this.padding) - this.gridSize.width * _index;\n                context.beginPath();\n                context.setLineDash([10, 5]);\n                context.moveTo(_pos + this.scrollPos.x, 0);\n                context.lineTo(_pos + this.scrollPos.x, this.height);\n                context.stroke();\n            }\n        }\n        /** Render the line chart */\n\n    }, {\n        key: \"plotLine\",\n        value: function plotLine() {}\n        /** Render the bar chart */\n\n    }, {\n        key: \"plotBars\",\n        value: function plotBars() {}\n        /** Render the area chart */\n\n    }, {\n        key: \"plotArea\",\n        value: function plotArea() {}\n        /** Render the candlesticks chart */\n\n    }, {\n        key: \"plotCandlesticks\",\n        value: function plotCandlesticks() {\n            var context = this.element.getContext(\"2d\");\n            for (var index = 0; index <= this.dataCursor.max; index++) {\n                var candle = this.displayData[index];\n                if (candle) {\n                    if (candle.direction === \"bull\") {\n                        context.strokeStyle = this.style.bullColor;\n                        context.fillStyle = this.style.bullColor;\n                    } else if (candle.direction === \"bear\") {\n                        context.strokeStyle = this.style.bearColor;\n                        context.fillStyle = this.style.bearColor;\n                    } else {\n                        context.strokeStyle = this.style.flatColor;\n                        context.fillStyle = this.style.flatColor;\n                    }\n                    // Draw candle line\n                    var xpos = this.width * (1 - this.padding) - this.gridSize.width * index;\n                    var ypos = this.height * this.padding + this.pointSize.y * (this.bound.maxPrice - candle.high);\n                    context.beginPath();\n                    context.setLineDash([]);\n                    context.moveTo(xpos + this.scrollPos.x, ypos);\n                    context.lineTo(xpos + this.scrollPos.x, ypos + this.pointSize.y * candle.range);\n                    context.stroke();\n                    // Draw candle body\n                    var candleBody = {\n                        x: xpos - 0.5 * this.gridSize.width + Math.floor(this.gridSize.width / 4) + 1 + this.scrollPos.x,\n                        y: 0,\n                        width: this.gridSize.width - Math.floor(this.gridSize.width / 2),\n                        height: this.pointSize.y * Math.abs(candle.close - candle.open)\n                    };\n                    if (candle.direction === \"bear\") {\n                        candleBody.y = ypos + this.pointSize.y * (candle.high - candle.open);\n                    } else if (candle.direction === \"bull\") {\n                        candleBody.y = ypos + this.pointSize.y * (candle.high - candle.close);\n                    } else {\n                        candleBody.y = ypos + this.pointSize.y * (candle.high - candle.open);\n                        candleBody.height = 1;\n                    }\n                    context.fillRect(candleBody.x, candleBody.y, candleBody.width, candleBody.height);\n                }\n            }\n        }\n    }, {\n        key: \"drawFlag\",\n        value: function drawFlag() {\n            var candle = this.data[0];\n            var context = this.element.getContext(\"2d\");\n            var ypos = this.height * this.padding + this.pointSize.y * (this.bound.maxPrice - candle.close);\n            if (candle.direction === \"bull\") {\n                context.strokeStyle = this.style.bullColor;\n                context.fillStyle = this.style.bullColor;\n            } else if (candle.direction === \"bear\") {\n                context.strokeStyle = this.style.bearColor;\n                context.fillStyle = this.style.bearColor;\n            } else {\n                context.strokeStyle = this.style.flatColor;\n                context.fillStyle = this.style.flatColor;\n            }\n            // Draw line\n            context.beginPath();\n            context.setLineDash([10, 5]);\n            context.moveTo(0, ypos);\n            context.lineTo(this.width, ypos);\n            context.stroke();\n            context.setLineDash([]);\n        }\n        // Scaling methods\n\n    }, {\n        key: \"setScaleX\",\n        value: function setScaleX(delta) {\n            var scale = this.scale.x + delta;\n            if (scale <= 2 && scale >= 0.5) {\n                this.scale.x = scale;\n                var scrolledCandles = this.scrollPos.x / this.gridSize.width;\n                this.scrollPos.x = scrolledCandles * this.gridSize.width;\n            }\n        }\n    }, {\n        key: \"innerHeight\",\n        get: function get() {\n            return this.height - 2 * this.padding * this.height;\n        }\n    }, {\n        key: \"innerWidth\",\n        get: function get() {\n            return this.width * (1 - this.padding);\n        }\n    }]);\n\n    return Viewport;\n}();\n\nexports.Viewport = Viewport;\n//# sourceMappingURL=viewport.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Finchart = void 0;\nvar data_1 = require(\"./data\");\nvar options_1 = require(\"./options\");\nvar priceaxis_1 = require(\"./priceaxis\");\nvar style_1 = require(\"./style\");\nvar timeaxis_1 = require(\"./timeaxis\");\nvar toolbar_1 = require(\"./toolbar\");\nvar viewport_1 = require(\"./viewport\");\n/** Finchart is an advanced financial charting library developed at Bahtera Capital */\n\nvar Finchart = function () {\n    /** Create new Finchart instance from an element */\n    function Finchart(selector, data, options, style) {\n        _classCallCheck(this, Finchart);\n\n        // Chart options & styling\n        this.options = options !== undefined ? this.options = options : this.options = options_1.DefaultChartOptions;\n        this.style = style !== undefined ? this.style = style : this.style = style_1.DefaultChartStyle;\n        this.initStyle();\n        // Process data\n        this.data = this.prepareData(data);\n        // Process chart interface\n        this.configureGUI(selector);\n        this.registerEvents();\n    }\n    // Computed properties\n\n\n    _createClass(Finchart, [{\n        key: \"initStyle\",\n\n        /** Add StyleSheet */\n        value: function initStyle() {\n            var styleClass = \"finchart\";\n            // Remove previous style if exists\n            var existingStyles = document.querySelectorAll(\"head style.\" + styleClass);\n            existingStyles.forEach(function (el) {\n                el.remove();\n            });\n            // Create new style element\n            this.styleSheet = document.createElement(\"style\");\n            this.styleSheet.className = styleClass;\n            this.styleSheet.innerHTML = \"\";\n            document.querySelector(\"head\").appendChild(this.styleSheet);\n        }\n        /** Append style to StyleSheet */\n\n    }, {\n        key: \"addStyle\",\n        value: function addStyle(style) {\n            this.styleSheet.innerHTML += style;\n        }\n        /** Convert input data to acceptable types */\n\n    }, {\n        key: \"prepareData\",\n        value: function prepareData(data) {\n            var processedData = [];\n            var type = \"number\";\n            try {\n                // Determine the input data type\n                if (isNaN(data[0])) {\n                    type = \"ohlc\";\n                }\n                // Process number type\n                if (type === \"number\") {\n                    var _iteratorNormalCompletion = true;\n                    var _didIteratorError = false;\n                    var _iteratorError = undefined;\n\n                    try {\n                        for (var _iterator = data[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                            var item = _step.value;\n\n                            if (!isNaN(item)) {\n                                processedData.push(item);\n                            } else {\n                                throw \"Data type must be consistent (Array<number>)\";\n                            }\n                        }\n                    } catch (err) {\n                        _didIteratorError = true;\n                        _iteratorError = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion && _iterator.return) {\n                                _iterator.return();\n                            }\n                        } finally {\n                            if (_didIteratorError) {\n                                throw _iteratorError;\n                            }\n                        }\n                    }\n                }\n                // Process ohlc type\n                if (type === \"ohlc\") {\n                    var _iteratorNormalCompletion2 = true;\n                    var _didIteratorError2 = false;\n                    var _iteratorError2 = undefined;\n\n                    try {\n                        for (var _iterator2 = data[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                            var _item = _step2.value;\n\n                            if (isNaN(_item)) {\n                                processedData.push(new data_1.OHLC(_item[0], _item[1], _item[2], _item[3], _item[4], _item[5]));\n                            } else {\n                                throw \"Data type must be consistent (Array<OHLC>)\";\n                            }\n                        }\n                    } catch (err) {\n                        _didIteratorError2 = true;\n                        _iteratorError2 = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                _iterator2.return();\n                            }\n                        } finally {\n                            if (_didIteratorError2) {\n                                throw _iteratorError2;\n                            }\n                        }\n                    }\n                }\n            }\n            // Returns any errors\n            catch (e) {\n                console.error(\"Prepare Data Error: \" + e);\n            }\n            // Return generated data\n            finally {\n                return processedData.reverse();\n            }\n        }\n        /** Configure chart GUI */\n\n    }, {\n        key: \"configureGUI\",\n        value: function configureGUI(selector) {\n            try {\n                // Configure chart element\n                this.element = document.querySelector(selector);\n                if (this.element === null) throw \"Cannot find \" + selector;\n                // Set element dimension to fill container\n                // this.element.style.width = \"100%\"\n                // this.element.style.height = \"100%\"\n                this.element.className = \"finchart\";\n                this.element.style.position = \"relative\";\n                this.element.style.overflow = \"hidden\";\n                this.element.style.backgroundColor = this.style.bgColor;\n                this.element.style.font = this.style.font;\n                // Configure toolbar, viewport, and axes\n                this.configureViewport();\n                this.configureTimeAxis();\n                this.configurePriceAxis();\n                this.configureToolbar();\n            } catch (e) {\n                console.error(\"Initializing Error: \" + e);\n            }\n        }\n    }, {\n        key: \"configureToolbar\",\n        value: function configureToolbar() {\n            var toolbarElement = document.createElement(\"div\");\n            toolbarElement.setAttribute(\"class\", \"toolbar\");\n            toolbarElement.style.width = \"100%\";\n            toolbarElement.style.position = \"absolute\";\n            toolbarElement.style.top = \"0\";\n            toolbarElement.style.left = \"0\";\n            toolbarElement.style.height = this.style.toolbarHeight + \"px\";\n            toolbarElement.style.borderBottom = \"2px solid \" + this.style.borderColor;\n            this.toolbar = new toolbar_1.Toolbar(toolbarElement, this.viewport);\n            this.element.appendChild(this.toolbar.element);\n        }\n    }, {\n        key: \"configureViewport\",\n        value: function configureViewport() {\n            var viewportElement = document.createElement(\"canvas\");\n            viewportElement.setAttribute(\"class\", \"viewport\");\n            viewportElement.style.position = \"absolute\";\n            viewportElement.style.top = this.style.toolbarHeight + \"px\";\n            viewportElement.style.left = \"0\";\n            viewportElement.width = this.element.offsetWidth - this.style.priceAxisWidth;\n            viewportElement.height = this.element.offsetHeight - this.style.toolbarHeight - this.style.timeAxisHeight;\n            viewportElement.style.width = viewportElement.width + \"px\";\n            viewportElement.style.height = viewportElement.height + \"px\";\n            this.element.appendChild(viewportElement);\n            this.viewport = new viewport_1.Viewport(viewportElement, this.data, this.options, this.style);\n        }\n    }, {\n        key: \"configurePriceAxis\",\n        value: function configurePriceAxis() {\n            this.priceAxis = new priceaxis_1.PriceAxis(this);\n        }\n    }, {\n        key: \"configureTimeAxis\",\n        value: function configureTimeAxis() {\n            var timeAxisElement = document.createElement(\"div\");\n            timeAxisElement.setAttribute(\"class\", \"time-axis\");\n            timeAxisElement.style.width = \"100%\";\n            timeAxisElement.style.height = this.style.timeAxisHeight + \"px\";\n            timeAxisElement.style.position = \"absolute\";\n            timeAxisElement.style.bottom = \"0\";\n            timeAxisElement.style.left = \"0\";\n            timeAxisElement.style.borderTop = \"2px solid \" + this.style.borderColor;\n            timeAxisElement.style.overflow = \"hidden\";\n            timeAxisElement.style.cursor = \"ew-resize\";\n            timeAxisElement.style.userSelect = \"none\";\n            this.timeAxis = new timeaxis_1.TimeAxis(timeAxisElement, this.viewport);\n            this.element.appendChild(this.timeAxis.element);\n        }\n    }, {\n        key: \"renderElements\",\n        value: function renderElements() {\n            this.viewport.element.width = this.viewport.pixelRatio * (this.element.offsetWidth - this.style.priceAxisWidth);\n            this.viewport.element.height = this.viewport.pixelRatio * (this.element.offsetHeight - this.style.toolbarHeight - this.style.timeAxisHeight);\n            this.viewport.element.style.width = this.element.offsetWidth - this.style.priceAxisWidth + \"px\";\n            this.viewport.element.style.height = this.element.offsetHeight - this.style.toolbarHeight - this.style.timeAxisHeight + \"px\";\n            this.viewport.render();\n            this.priceAxis.plotPriceLabels();\n            this.priceAxis.drawFlag();\n            this.timeAxis.plotDateTimeLabels();\n        }\n    }, {\n        key: \"registerEvents\",\n        value: function registerEvents() {\n            var _this = this;\n\n            // Resize\n            window.addEventListener(\"resize\", function () {\n                _this.renderElements();\n            });\n            // Mouse scroll\n            this.viewport.element.addEventListener(\"wheel\", function (e) {\n                _this.viewport.scrollPos.x -= _this.viewport.pixelRatio * e.deltaX;\n                _this.renderElements();\n                if (_this.viewport.scrollPos.x < 0) {\n                    window.requestAnimationFrame(function () {\n                        _this.viewport.scrollPos.x = 0;\n                        _this.renderElements();\n                    });\n                }\n                if (_this.viewport.scrollPos.x > _this.data.length * _this.viewport.gridSize.width - _this.viewport.width + 100) {\n                    window.requestAnimationFrame(function () {\n                        _this.viewport.scrollPos.x = _this.data.length * _this.viewport.gridSize.width - _this.viewport.width + 100;\n                        _this.renderElements();\n                    });\n                }\n            });\n            // Mouse drag\n            var clickStartX = 0;\n            var mouseMoveListener = function mouseMoveListener(e) {\n                _this.viewport.scrollPos.x -= _this.viewport.pixelRatio * (clickStartX - e.clientX);\n                clickStartX = e.clientX;\n                _this.renderElements();\n                if (_this.viewport.scrollPos.x < 0) {\n                    window.requestAnimationFrame(function () {\n                        _this.viewport.scrollPos.x = 0;\n                        _this.renderElements();\n                    });\n                }\n                if (_this.viewport.scrollPos.x > _this.data.length * _this.viewport.gridSize.width - _this.viewport.width + 100) {\n                    window.requestAnimationFrame(function () {\n                        _this.viewport.scrollPos.x = _this.data.length * _this.viewport.gridSize.width - _this.viewport.width + 100;\n                        _this.renderElements();\n                    });\n                }\n            };\n            this.viewport.element.addEventListener(\"mousedown\", function (e) {\n                clickStartX = e.clientX;\n                _this.viewport.element.addEventListener(\"mousemove\", mouseMoveListener);\n                _this.viewport.element.addEventListener(\"mouseup\", function (e) {\n                    _this.viewport.element.removeEventListener(\"mousemove\", mouseMoveListener);\n                });\n            });\n            // Touch events\n            var touchStart = 0;\n            var touchStartTime = 0;\n            var touchVelocity = 0;\n            var touchMoveListener = function touchMoveListener(e) {\n                var deltaX = touchStart - e.touches[0].clientX;\n                _this.viewport.scrollPos.x -= _this.viewport.pixelRatio * deltaX;\n                touchVelocity = Math.round(deltaX / (Date.now() - touchStartTime) * 10);\n                touchStart = e.touches[0].clientX;\n                touchStartTime = Date.now();\n                _this.renderElements();\n                if (_this.viewport.scrollPos.x < 0) {\n                    window.requestAnimationFrame(function () {\n                        _this.viewport.scrollPos.x = 0;\n                        _this.renderElements();\n                    });\n                }\n                if (_this.viewport.scrollPos.x > _this.data.length * _this.viewport.gridSize.width - _this.viewport.width + 100) {\n                    window.requestAnimationFrame(function () {\n                        _this.viewport.scrollPos.x = _this.data.length * _this.viewport.gridSize.width - _this.viewport.width + 100;\n                        _this.renderElements();\n                    });\n                }\n            };\n            this.viewport.element.addEventListener(\"touchstart\", function (e) {\n                touchStart = e.touches[0].clientX;\n                touchStartTime = Date.now();\n                _this.viewport.element.addEventListener(\"touchmove\", touchMoveListener);\n                _this.viewport.element.addEventListener(\"touchend\", function (e) {\n                    _this.viewport.element.removeEventListener(\"touchmove\", touchMoveListener);\n                    if (_this.viewport.scrollPos.x < 0) {\n                        window.requestAnimationFrame(function () {\n                            _this.viewport.scrollPos.x = 0;\n                            _this.renderElements();\n                        });\n                    }\n                });\n            });\n            // Time-axis scale\n            this.timeAxis.element.addEventListener(\"mousedown\", function (e) {\n                var startPos = e.clientX;\n                var handleDrag = function handleDrag(dragEvent) {\n                    var delta = (startPos - dragEvent.clientX) / 1000;\n                    _this.viewport.setScaleX(delta);\n                    _this.renderElements();\n                    startPos = dragEvent.clientX;\n                };\n                _this.timeAxis.element.addEventListener(\"mousemove\", handleDrag);\n                _this.timeAxis.element.addEventListener(\"mouseup\", function () {\n                    _this.timeAxis.element.removeEventListener(\"mousemove\", handleDrag);\n                });\n            });\n        }\n    }, {\n        key: \"devicePixelRatio\",\n        get: function get() {\n            return window.devicePixelRatio;\n        }\n    }, {\n        key: \"viewportSize\",\n        get: function get() {\n            return {\n                width: this.viewport.width / this.devicePixelRatio,\n                height: this.viewport.height / this.devicePixelRatio\n            };\n        }\n    }, {\n        key: \"bound\",\n        get: function get() {\n            return this.viewport.bound;\n        }\n    }, {\n        key: \"maximumDataHeight\",\n        get: function get() {\n            return this.viewport.maxDataHeight;\n        }\n    }, {\n        key: \"padding\",\n        get: function get() {\n            return this.viewport.padding;\n        }\n    }, {\n        key: \"gridSize\",\n        get: function get() {\n            return {\n                width: this.viewport.gridSize.width / this.devicePixelRatio,\n                height: this.viewport.gridSize.height / this.devicePixelRatio\n            };\n        }\n    }, {\n        key: \"pointSize\",\n        get: function get() {\n            return {\n                x: this.viewport.pointSize.x / this.devicePixelRatio,\n                y: this.viewport.pointSize.y / this.devicePixelRatio\n            };\n        }\n    }]);\n\n    return Finchart;\n}();\n\nexports.Finchart = Finchart;\n// Keep track of how many instances in a page\nFinchart.count = 0;\n//# sourceMappingURL=finchart.js.map"],"names":["root","factory","exports","module","define","amd","a","i","self","ChartType","Object","defineProperty","value","_createClass","defineProperties","target","props","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","OHLC","datetime","open","high","low","close","volume","instance","TypeError","_classCallCheck","this","utc","Date","replace","localDate","getTime","getTimezoneOffset","undefined","get","barRange","DefaultChartOptions","charttype_1","timeframe_1","type","Candlestick","timeframe","Timeframe","H1","displayFlag","PriceAxis","parent","initStyle","drawElement","plotPriceLabels","options","drawFlag","addStyle","style","toolbarHeight","priceAxisWidth","timeAxisHeight","viewportSize","height","borderColor","bgColor","labelColor","element","document","createElement","className","appendChild","innerHTML","delta","bound","range","maximumDataHeight","index","label","innerText","maxPrice","toString","padEnd","slice","top","padding","gridSize","candle","data","ypos","pointSize","y","color","direction","substr","background","DefaultChartStyle","gridColor","bullColor","bearColor","flatColor","font","TimeAxis","viewport","plotDateTimeLabels","_this","lastPeriodIndex","_loop","item","displayData","previousItem","timeLabelText","date","getHours","width","rightPos","pixelRatio","scrollPos","x","position","right","textAlign","periodLabel","_rightPos","id","getDate","getMonth","padStart","paddingTop","boxSizing","borderLeft","_periodLabel","_rightPos2","prevLabel","querySelector","dataCursor","max","Toolbar","initSymbol","initTimeframe","initChartType","initFullscreenTrigger","display","symbolElement","lineHeight","borderRight","timeframeElement","_toConsumableArray","arr","Array","isArray","arr2","from","Viewport","scale","window","devicePixelRatio","render","context","getContext","clearRect","maxDataHeight","innerHeight","startIndex","scrolledPoints","Math","ceil","floor","maxDataLength","innerWidth","min","minPrice","minDateTime","maxDateTime","cursorDisplayData","apply","timeRange","map","v","drawGrids","plotCandlesticks","strokeStyle","pos","beginPath","setLineDash","moveTo","lineTo","stroke","_index","_pos","fillStyle","xpos","candleBody","abs","fillRect","scrolledCandles","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","Finchart","data_1","options_1","priceaxis_1","style_1","timeaxis_1","toolbar_1","viewport_1","selector","prepareData","configureGUI","registerEvents","querySelectorAll","forEach","el","remove","styleSheet","processedData","isNaN","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","push","err","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_item","e","console","error","reverse","overflow","backgroundColor","configureViewport","configureTimeAxis","configurePriceAxis","configureToolbar","toolbarElement","setAttribute","left","borderBottom","toolbar","viewportElement","offsetWidth","offsetHeight","priceAxis","timeAxisElement","bottom","borderTop","cursor","userSelect","timeAxis","addEventListener","renderElements","deltaX","requestAnimationFrame","clickStartX","mouseMoveListener","clientX","removeEventListener","touchStart","touchStartTime","touchMoveListener","touches","round","now","startPos","handleDrag","dragEvent","setScaleX","count"],"sourceRoot":""}