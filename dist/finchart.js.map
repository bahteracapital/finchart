{"version":3,"file":"finchart.js","mappings":"CAAA,SAA2CA,EAAMC,GAChD,GAAsB,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,SACb,GAAqB,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,OACP,CACJ,IAAIK,EAAIL,IACR,IAAI,IAAIM,KAAKD,GAAuB,iBAAZJ,QAAuBA,QAAUF,GAAMO,GAAKD,EAAEC,IAPxE,CASGC,MAAM,WACT,M,sCCLA,IAAWC,EAHXC,OAAOC,eAAeT,EAAS,aAAc,CAAEU,OAAO,IACtDV,EAAQO,eAAY,GAETA,EAKIP,EAAQO,YAAcP,EAAQO,UAAY,KAJrC,KAAI,OACpBA,EAAe,IAAI,MACnBA,EAAgB,KAAI,OACpBA,EAAuB,YAAI,e,YCP/B,IAAII,EAAe,WAAc,SAASC,EAAiBC,EAAQC,GAAS,IAAK,IAAIT,EAAI,EAAGA,EAAIS,EAAMC,OAAQV,IAAK,CAAE,IAAIW,EAAaF,EAAMT,GAAIW,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAMX,OAAOC,eAAeI,EAAQG,EAAWI,IAAKJ,IAAiB,OAAO,SAAUK,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYV,EAAiBS,EAAYG,UAAWF,GAAiBC,GAAaX,EAAiBS,EAAaE,GAAqBF,GAA7gB,GAInBb,OAAOC,eAAeT,EAAS,aAAc,CAAEU,OAAO,IACtDV,EAAQyB,UAAO,EAEf,IAAIA,EAAO,WAEP,SAASA,EAAKC,EAAUC,EAAMC,EAAMC,EAAKC,EAAOC,IAPpD,SAAyBC,EAAUX,GAAe,KAAMW,aAAoBX,GAAgB,MAAM,IAAIY,UAAU,qCAQxGC,CAAgBC,KAAMV,GAEtB,IAAIW,EAAM,IAAIC,KAAKX,EAASY,QAAQ,IAAK,MACrCC,EAAYH,EAAII,UAAY,KAAwC,IAA1BJ,EAAIK,oBAClDN,KAAKT,SAAW,IAAIW,KAAKE,GACzBJ,KAAKR,KAAOA,EACZQ,KAAKP,KAAOA,EACZO,KAAKN,IAAMA,EACXM,KAAKL,MAAQA,EACbK,KAAKJ,OAASA,QAAkBW,EAwBpC,OAnBA/B,EAAac,EAAM,CAAC,CAChBL,IAAK,QACLuB,IAAK,WACD,OAAOR,KAAKP,KAAOO,KAAKN,MAE7B,CACCT,IAAK,WACLuB,IAAK,WACD,OAAOR,KAAKL,MAAQK,KAAKR,OAE9B,CACCP,IAAK,YACLuB,IAAK,WACD,OAAIR,KAAKS,SAAW,EAAU,OAC1BT,KAAKS,SAAW,EAAU,OACvB,WAIRnB,EApCA,GAuCXzB,EAAQyB,KAAOA,G,cC9CfjB,OAAOC,eAAeT,EAAS,aAAc,CAAEU,OAAO,IACtDV,EAAQ6C,yBAAsB,EAC9B,IAAIC,EAAc,EAAQ,KACtBC,EAAc,EAAQ,KAC1B/C,EAAQ6C,oBAAsB,CAC1BG,KAAMF,EAAYvC,UAAU0C,YAC5BC,UAAWH,EAAYI,UAAUC,GACjCC,aAAa,I,YCPjB,IAAI1C,EAAe,WAAc,SAASC,EAAiBC,EAAQC,GAAS,IAAK,IAAIT,EAAI,EAAGA,EAAIS,EAAMC,OAAQV,IAAK,CAAE,IAAIW,EAAaF,EAAMT,GAAIW,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAMX,OAAOC,eAAeI,EAAQG,EAAWI,IAAKJ,IAAiB,OAAO,SAAUK,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYV,EAAiBS,EAAYG,UAAWF,GAAiBC,GAAaX,EAAiBS,EAAaE,GAAqBF,GAA7gB,GAInBb,OAAOC,eAAeT,EAAS,aAAc,CAAEU,OAAO,IACtDV,EAAQsD,eAAY,EAKpB,IAAIA,EAAY,WAKZ,SAASA,EAAUC,IAbvB,SAAyBvB,EAAUX,GAAe,KAAMW,aAAoBX,GAAgB,MAAM,IAAIY,UAAU,qCAcxGC,CAAgBC,KAAMmB,GAEtBnB,KAAKoB,OAASA,EACdpB,KAAKqB,YACLrB,KAAKsB,cACLtB,KAAKuB,kBACDvB,KAAKoB,OAAOI,QAAQN,aACpBlB,KAAKyB,WAkEb,OA5DAjD,EAAa2C,EAAW,CAAC,CACrBlC,IAAK,YACLV,MAAO,WACH,IAAImD,EAAa,4BAEIC,SAASC,iBAAiB,cAAgBF,GAChDG,SAAQ,SAAUC,GAC7BA,EAAGC,YAGP,IAAIC,EAAUL,SAASM,cAAc,SACrCD,EAAQE,UAAYR,EACpBM,EAAQG,UAAY,oGAAsGnC,KAAKoB,OAAOgB,MAAMC,cAAgB,0DAA4DrC,KAAKoB,OAAOgB,MAAME,eAAiB,iCAAmCtC,KAAKoB,OAAOgB,MAAMG,eAAiBvC,KAAKoB,OAAOoB,aAAaC,QAAU,+CAAiDzC,KAAKoB,OAAOgB,MAAMM,YAAc,kCAAqC1C,KAAKoB,OAAOgB,MAAMO,QAAxd,uQAAivB3C,KAAKoB,OAAOgB,MAAMQ,WAAa,0YACpyBjB,SAASkB,cAAc,QAAQC,YAAYd,KAIhD,CACC/C,IAAK,cACLV,MAAO,WAEHyB,KAAKgC,QAAUL,SAASM,cAAc,OACtCjC,KAAKgC,QAAQE,UAAY,aAEzBlC,KAAKoB,OAAOY,QAAQc,YAAY9C,KAAKgC,WAI1C,CACC/C,IAAK,kBACLV,MAAO,WACHyB,KAAKgC,QAAQG,UAAY,GAEzB,IADA,IAAIY,EAAQ/C,KAAKoB,OAAO4B,MAAMC,MAAQjD,KAAKoB,OAAO8B,kBACzCC,EAAQ,EAAGA,GAASnD,KAAKoB,OAAO8B,kBAAmBC,IAAS,CACjE,IAAIC,EAAQzB,SAASM,cAAc,OACnCmB,EAAMlB,UAAY,QAClBkB,EAAMC,WAAarD,KAAKoB,OAAO4B,MAAMM,SAAWP,EAAQI,GAAOI,WAAWC,OAAO,EAAG,KAAKC,MAAM,EAAG,GAClGL,EAAMhB,MAAMsB,IAAM1D,KAAKoB,OAAOoB,aAAaC,OAASzC,KAAKoB,OAAOuC,QAAUR,EAAQnD,KAAKoB,OAAOwC,SAASnB,OAAS,KAChHzC,KAAKgC,QAAQc,YAAYM,MAKlC,CACCnE,IAAK,WACLV,MAAO,WACH,IAAIsF,EAAS7D,KAAKoB,OAAO0C,KAAK,GAC1BC,EAAO/D,KAAKoB,OAAOoB,aAAaC,OAASzC,KAAKoB,OAAOuC,QAAU3D,KAAKoB,OAAO4C,UAAUC,GAAKjE,KAAKoB,OAAO4B,MAAMM,SAAWO,EAAOlE,OAC9HuE,EAAQlE,KAAKoB,OAAOgB,MAAMyB,EAAOM,UAAY,SAC7CnC,EAAUL,SAASM,cAAc,OACrCD,EAAQE,UAAY,aACpBF,EAAQqB,UAAYQ,EAAOlE,MAAM4D,WAAWC,OAAO,EAAG,KAAKY,OAAO,EAAG,GACrEpC,EAAQI,MAAMiC,WAAa,2BAA8BH,EAA9B,OAAsDA,EAAtD,MAC3BlC,EAAQI,MAAMsB,IAAMK,EAAO,KACvBA,EAAO/D,KAAKoB,OAAOoB,aAAaC,QAChCzC,KAAKgC,QAAQc,YAAYd,OAK9Bb,EA/EK,GAkFhBtD,EAAQsD,UAAYA,G,YC5FpB9C,OAAOC,eAAeT,EAAS,aAAc,CAAEU,OAAO,IACtDV,EAAQyG,uBAAoB,EAC5BzG,EAAQyG,kBAAoB,CACxB3B,QAAS,UACTC,WAAY,UACZ2B,UAAW,UACX7B,YAAa,UACb8B,UAAW,UACXC,UAAW,UACXC,UAAW,SACXrC,cAAe,GACfC,eAAgB,GAChBC,eAAgB,GAChBoC,KAAM,sC,cCbV,IAAInG,EAAe,WAAc,SAASC,EAAiBC,EAAQC,GAAS,IAAK,IAAIT,EAAI,EAAGA,EAAIS,EAAMC,OAAQV,IAAK,CAAE,IAAIW,EAAaF,EAAMT,GAAIW,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAMX,OAAOC,eAAeI,EAAQG,EAAWI,IAAKJ,IAAiB,OAAO,SAAUK,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYV,EAAiBS,EAAYG,UAAWF,GAAiBC,GAAaX,EAAiBS,EAAaE,GAAqBF,GAA7gB,GAInBb,OAAOC,eAAeT,EAAS,aAAc,CAAEU,OAAO,IACtDV,EAAQ+G,cAAW,EACnB,IAAIhE,EAAc,EAAQ,KAEtBgE,EAAW,WACX,SAASA,EAAS5C,EAAS6C,IAP/B,SAAyBhF,EAAUX,GAAe,KAAMW,aAAoBX,GAAgB,MAAM,IAAIY,UAAU,qCAQxGC,CAAgBC,KAAM4E,GAEtB5E,KAAKgC,QAAUA,EACfhC,KAAK6E,SAAWA,EAChB7E,KAAK8E,qBA8FT,OA3FAtG,EAAaoG,EAAU,CAAC,CACpB3F,IAAK,qBACLV,MAAO,WACH,IAAIwG,EAAQ/E,KAEZA,KAAKgC,QAAQG,UAAY,GAgFzB,IA/EA,IAAI6C,EAAkB,EAElBC,EAAQ,SAAe9B,GACvB,IAAI+B,EAAOH,EAAMF,SAASM,YAAYhC,GAClCiC,EAAeL,EAAMF,SAASM,YAAYhC,EAAQ,GAClDkC,EAAgB,GAChBC,EAAOJ,EAAOH,EAAMF,SAASM,YAAYhC,GAAO5D,SAAW,IAAIW,KAKnE,GAJI6E,EAAMF,SAASrD,QAAQT,YAAcH,EAAYI,UAAUC,KAC3DoE,EAAgBC,EAAKC,WAAa,OAGlCpC,EAAQ,GAAM,EAAG,CACjB,IAAIC,EAAQzB,SAASM,cAAc,OACnCmB,EAAMlB,UAAY,OAClB,IAAIsD,EAAwC,EAAhCT,EAAMF,SAASjB,SAAS4B,MAChCC,GAAYtC,EAAQ4B,EAAMF,SAASjB,SAAS4B,MAAQT,EAAMF,SAASzC,MAAME,eAAiByC,EAAMF,SAASa,WAAaX,EAAMF,SAASlB,QAAUoB,EAAMF,SAASW,MAAQA,EAAQT,EAAMF,SAASc,UAAUC,GAAKb,EAAMF,SAASa,WAC/NtC,EAAMC,UAAYgC,EAClBjC,EAAMhB,MAAM8B,MAAQa,EAAMF,SAASzC,MAAMQ,WACzCQ,EAAMhB,MAAMyD,SAAW,WACvBzC,EAAMhB,MAAMsB,IAAM,OAClBN,EAAMhB,MAAM0D,MAAQL,EAAW,KAC/BrC,EAAMhB,MAAM2D,UAAY,SACxB3C,EAAMhB,MAAMoD,MAAQA,EAAQ,KACxBC,IAAa,EAAIV,EAAMF,SAASzC,MAAME,gBACtCyC,EAAM/C,QAAQc,YAAYM,IAIlC,WACI,GAAa,GAATD,GAAc+B,EAAM,CACpB,IAAIc,EAAcrE,SAASM,cAAc,OAErCgE,GADSlB,EAAMF,SAASjB,SAAS4B,OACpBT,EAAMF,SAASzC,MAAME,eAAiByC,EAAMF,SAASa,WAAaX,EAAMF,SAASlB,QAAUoB,EAAMF,SAASW,MAAQT,EAAMF,SAASjB,SAAS4B,MAAQrC,EAAQ4B,EAAMF,SAASc,UAAUC,GAAKb,EAAMF,SAASa,YACxNM,EAAY9D,UAAY,SACxB8D,EAAYE,GAAK,UAAYhB,EAAK3F,SAAS4G,UAAY,IAAMjB,EAAK3F,SAAS6G,WAC3EJ,EAAY3C,UAAY6B,EAAK3F,SAAS4G,UAAU5C,WAAW8C,SAAS,EAAG,KAAO,KAAOnB,EAAK3F,SAAS6G,WAAa,GAAG7C,WAAW8C,SAAS,EAAG,KAC1IL,EAAY5D,MAAMK,OAASsC,EAAMF,SAASzC,MAAMG,eAAiB,KACjEyD,EAAY5D,MAAMyD,SAAW,WAC7BG,EAAY5D,MAAMsB,IAAM,IACxBsC,EAAY5D,MAAM0D,MAAQG,EAAY,KACtCD,EAAY5D,MAAMkE,WAAa,OAC/BN,EAAY5D,MAAMmE,UAAY,aAC9BP,EAAY5D,MAAMoE,WAAa,aAAezB,EAAMF,SAASzC,MAAMmC,UACnEyB,EAAY5D,MAAM8B,MAAQa,EAAMF,SAASzC,MAAMQ,WAC/CoD,EAAY5D,MAAM2D,UAAY,SAC1BE,GAAalB,EAAMF,SAASW,MAAQT,EAAMF,SAASa,YACnDX,EAAM/C,QAAQc,YAAYkD,QAE3B,GAAId,GAAQE,EACf,GAAIA,EAAa7F,SAAS4G,YAAcjB,EAAK3F,SAAS4G,UAAW,CAC7D,IAAIM,EAAe9E,SAASM,cAAc,OAEtCyE,GADU3B,EAAMF,SAASjB,SAAS4B,OACpBT,EAAMF,SAASzC,MAAME,eAAiByC,EAAMF,SAASa,WAAaX,EAAMF,SAASlB,QAAUoB,EAAMF,SAASW,MAAQT,EAAMF,SAASjB,SAAS4B,MAAQrC,EAAQ4B,EAAMF,SAASc,UAAUC,GAAKb,EAAMF,SAASa,YACzNe,EAAavE,UAAY,SACzBuE,EAAaP,GAAK,UAAYhB,EAAK3F,SAAS4G,UAAY,IAAMjB,EAAK3F,SAAS6G,WAC5EK,EAAapD,UAAY6B,EAAK3F,SAAS4G,UAAU5C,WAAW8C,SAAS,EAAG,KAAO,KAAOnB,EAAK3F,SAAS6G,WAAa,GAAG7C,WAAW8C,SAAS,EAAG,KAC3II,EAAarE,MAAMK,OAASsC,EAAMF,SAASzC,MAAMG,eAAiB,KAClEkE,EAAarE,MAAMyD,SAAW,WAC9BY,EAAarE,MAAMsB,IAAM,IACzB+C,EAAarE,MAAM0D,MAAQY,EAAa,KACxCD,EAAarE,MAAMkE,WAAa,OAChCG,EAAarE,MAAMmE,UAAY,aAC/BE,EAAarE,MAAMoE,WAAa,aAAezB,EAAMF,SAASzC,MAAMmC,UACpEkC,EAAarE,MAAM8B,MAAQa,EAAMF,SAASzC,MAAMQ,WAChD6D,EAAarE,MAAM2D,UAAY,SAC3BW,GAAc3B,EAAMF,SAASW,MAAQT,EAAMF,SAASa,YACpDX,EAAM/C,QAAQc,YAAY2D,GAE9BzB,EAAkB7B,MACf,CACH,IAAIwD,EAAY5B,EAAM/C,QAAQa,cAAc,WAAaqC,EAAK3F,SAAS4G,UAAY,IAAMjB,EAAK3F,SAAS6G,YACnGO,IACAA,EAAUvE,MAAMoD,MAAQT,EAAMF,SAASjB,SAAS4B,OAASrC,EAAQ6B,EAAkB,GAAKD,EAAMF,SAASa,WAAa,OA5CpI,IAmDKvC,EAAQ,EAAGA,GAASnD,KAAK6E,SAAS+B,WAAWC,IAAK1D,IACvD8B,EAAM9B,OAKXyB,EApGI,GAuGf/G,EAAQ+G,SAAWA,G,YC5GnB,IAAW5D,EAHX3C,OAAOC,eAAeT,EAAS,aAAc,CAAEU,OAAO,IACtDV,EAAQmD,eAAY,GAETA,EAUInD,EAAQmD,YAAcnD,EAAQmD,UAAY,KATvC,GAAI,KAClBA,EAAc,GAAI,KAClBA,EAAe,IAAI,MACnBA,EAAe,IAAI,MACnBA,EAAc,GAAI,KAClBA,EAAc,GAAI,KAClBA,EAAc,GAAI,KAClBA,EAAc,GAAI,KAClBA,EAAc,GAAI,M,YCZtB,IAAIxC,EAAe,WAAc,SAASC,EAAiBC,EAAQC,GAAS,IAAK,IAAIT,EAAI,EAAGA,EAAIS,EAAMC,OAAQV,IAAK,CAAE,IAAIW,EAAaF,EAAMT,GAAIW,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAMX,OAAOC,eAAeI,EAAQG,EAAWI,IAAKJ,IAAiB,OAAO,SAAUK,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYV,EAAiBS,EAAYG,UAAWF,GAAiBC,GAAaX,EAAiBS,EAAaE,GAAqBF,GAA7gB,GAInBb,OAAOC,eAAeT,EAAS,aAAc,CAAEU,OAAO,IACtDV,EAAQiJ,aAAU,EAElB,IAAIA,EAAU,WACV,SAASA,EAAQ9E,EAAS6C,IAN9B,SAAyBhF,EAAUX,GAAe,KAAMW,aAAoBX,GAAgB,MAAM,IAAIY,UAAU,qCAOxGC,CAAgBC,KAAM8G,GAEtB9G,KAAKgC,QAAUA,EACfhC,KAAK6E,SAAWA,EAChB7E,KAAKqB,YACLrB,KAAK+G,aACL/G,KAAKgH,gBACLhH,KAAKiH,gBACLjH,KAAKkH,wBAkET,OA/DA1I,EAAasI,EAAS,CAAC,CACnB7H,IAAK,YACLV,MAAO,WACHyB,KAAKgC,QAAQI,MAAM+E,QAAU,SAElC,CACClI,IAAK,aACLV,MAAO,WACH,IAAI6I,EAAgBzF,SAASM,cAAc,OAC3CmF,EAAclF,UAAY,SAC1BkF,EAAcjF,UAAY,uCAC1BiF,EAAchF,MAAM8B,MAAQlE,KAAK6E,SAASzC,MAAMQ,WAChDwE,EAAchF,MAAMK,OAASzC,KAAK6E,SAASzC,MAAMC,cAAgB,KACjE+E,EAAchF,MAAMiF,WAAarH,KAAK6E,SAASzC,MAAMC,cAAgB,KACrE+E,EAAchF,MAAMmE,UAAY,aAChCa,EAAchF,MAAMkF,YAAc,aAAetH,KAAK6E,SAASzC,MAAMM,YACrE0E,EAAchF,MAAMuB,QAAU,SAC9B3D,KAAKgC,QAAQc,YAAYsE,KAE9B,CACCnI,IAAK,gBACLV,MAAO,WACH,IAAIgJ,EAAmB5F,SAASM,cAAc,OAC9CsF,EAAiBrF,UAAY,YAC7BqF,EAAiBpF,UAAY,KAC7BoF,EAAiBnF,MAAM8B,MAAQlE,KAAK6E,SAASzC,MAAMQ,WACnD2E,EAAiBnF,MAAMK,OAASzC,KAAK6E,SAASzC,MAAMC,cAAgB,KACpEkF,EAAiBnF,MAAMiF,WAAarH,KAAK6E,SAASzC,MAAMC,cAAgB,KACxEkF,EAAiBnF,MAAMmE,UAAY,aACnCgB,EAAiBnF,MAAMkF,YAAc,aAAetH,KAAK6E,SAASzC,MAAMM,YACxE6E,EAAiBnF,MAAMuB,QAAU,SACjC3D,KAAKgC,QAAQc,YAAYyE,KAE9B,CACCtI,IAAK,gBACLV,MAAO,WACH,IAAIgJ,EAAmB5F,SAASM,cAAc,OAC9CsF,EAAiBrF,UAAY,aAC7BqF,EAAiBpF,UAAY,cAC7BoF,EAAiBnF,MAAM8B,MAAQlE,KAAK6E,SAASzC,MAAMQ,WACnD2E,EAAiBnF,MAAMK,OAASzC,KAAK6E,SAASzC,MAAMC,cAAgB,KACpEkF,EAAiBnF,MAAMiF,WAAarH,KAAK6E,SAASzC,MAAMC,cAAgB,KACxEkF,EAAiBnF,MAAMmE,UAAY,aACnCgB,EAAiBnF,MAAMkF,YAAc,aAAetH,KAAK6E,SAASzC,MAAMM,YACxE6E,EAAiBnF,MAAMuB,QAAU,SACjC3D,KAAKgC,QAAQc,YAAYyE,KAE9B,CACCtI,IAAK,wBACLV,MAAO,WACH,IAAIgJ,EAAmB5F,SAASM,cAAc,OAC9CsF,EAAiBrF,UAAY,qBAC7BqF,EAAiBpF,UAAY,aAC7BoF,EAAiBnF,MAAM8B,MAAQlE,KAAK6E,SAASzC,MAAMQ,WACnD2E,EAAiBnF,MAAMK,OAASzC,KAAK6E,SAASzC,MAAMC,cAAgB,KACpEkF,EAAiBnF,MAAMiF,WAAarH,KAAK6E,SAASzC,MAAMC,cAAgB,KACxEkF,EAAiBnF,MAAMmE,UAAY,aACnCgB,EAAiBnF,MAAMkF,YAAc,aAAetH,KAAK6E,SAASzC,MAAMM,YACxE6E,EAAiBnF,MAAMuB,QAAU,SACjC3D,KAAKgC,QAAQc,YAAYyE,OAI1BT,EA5EG,GA+EdjJ,EAAQiJ,QAAUA,G,cCtFlB,IAAItI,EAAe,WAAc,SAASC,EAAiBC,EAAQC,GAAS,IAAK,IAAIT,EAAI,EAAGA,EAAIS,EAAMC,OAAQV,IAAK,CAAE,IAAIW,EAAaF,EAAMT,GAAIW,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAMX,OAAOC,eAAeI,EAAQG,EAAWI,IAAKJ,IAAiB,OAAO,SAAUK,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYV,EAAiBS,EAAYG,UAAWF,GAAiBC,GAAaX,EAAiBS,EAAaE,GAAqBF,GAA7gB,GAEnB,SAASsI,EAAmBC,GAAO,GAAIC,MAAMC,QAAQF,GAAM,CAAE,IAAK,IAAIvJ,EAAI,EAAG0J,EAAOF,MAAMD,EAAI7I,QAASV,EAAIuJ,EAAI7I,OAAQV,IAAO0J,EAAK1J,GAAKuJ,EAAIvJ,GAAM,OAAO0J,EAAe,OAAOF,MAAMG,KAAKJ,GAI1LpJ,OAAOC,eAAeT,EAAS,aAAc,CAAEU,OAAO,IACtDV,EAAQiK,cAAW,EACnB,IAAInH,EAAc,EAAQ,KAGtBmH,EAAW,WAEX,SAASA,EAAS9F,EAAS8B,EAAMtC,EAASY,IAT9C,SAAyBvC,EAAUX,GAAe,KAAMW,aAAoBX,GAAgB,MAAM,IAAIY,UAAU,qCAUxGC,CAAgBC,KAAM8H,GAEtB9H,KAAKgC,QAAUA,EACfhC,KAAK2D,QAAU,IACf3D,KAAK2F,UAAY,CAAEC,EAAG,EAAG3B,EAAG,GAC5BjE,KAAK+H,MAAQ,CAAEnC,EAAG,EAAG3B,EAAG,GACxBjE,KAAKgE,UAAY,CAAE4B,EAAG,EAAG3B,EAAG,GAC5BjE,KAAK8D,KAAOA,EACZ9D,KAAKwB,QAAUA,EACfxB,KAAKoC,MAAQA,EAEbpC,KAAK0F,WAAasC,OAAOC,iBACD,IAApBjI,KAAK0F,aACL1F,KAAKgE,UAAY,CAAE4B,EAAG5F,KAAKgE,UAAU4B,EAAI5F,KAAK0F,WAAYzB,EAAGjE,KAAKgE,UAAUC,EAAIjE,KAAK0F,YACrF1F,KAAKgC,QAAQwD,MAAQxF,KAAK0F,WAAa1F,KAAKgC,QAAQwD,MACpDxF,KAAKgC,QAAQS,OAASzC,KAAK0F,WAAa1F,KAAKgC,QAAQS,QAEzDzC,KAAKkI,SAyMT,OAtMA1J,EAAasJ,EAAU,CAAC,CACpB7I,IAAK,SAGLV,MAAO,WACH,IAAI4J,EAAUnI,KAAKgC,QAAQoG,WAAW,MACtCpI,KAAKwF,MAAQxF,KAAKgC,QAAQwD,MAC1BxF,KAAKyC,OAASzC,KAAKgC,QAAQS,OAC3B0F,EAAQE,UAAU,EAAG,EAAGrI,KAAKwF,MAAOxF,KAAKyC,QACzCzC,KAAKsI,cAAgB,GACrBtI,KAAK4D,SAAW,CACZnB,OAAQzC,KAAK+H,MAAM9D,EAAIjE,KAAKuI,YAAcvI,KAAKsI,cAC/C9C,MAAOxF,KAAK+H,MAAMnC,EAAI5F,KAAKgE,UAAU4B,GAGzC,IACI4C,EADAC,EAAiBC,KAAKC,KAAK3I,KAAK2F,UAAUC,EAAI5F,KAAK4D,SAAS4B,OAG5DgD,EADAxI,KAAK2F,UAAUC,GAAK5F,KAAK2D,QAAU3D,KAAKwF,MAC3BkD,KAAKE,OAAO5I,KAAK2F,UAAUC,EAAI5F,KAAK2D,QAAU3D,KAAKwF,OAASxF,KAAK4D,SAAS4B,OAE1E,EAEjBxF,KAAK6I,cAAgBH,KAAKC,KAAK3I,KAAK8I,WAAa9I,KAAK4D,SAAS4B,OAC/DxF,KAAK4G,WAAa,CAAEmC,IAAKP,EAAY3B,IAAK4B,GAAkBzI,KAAK6I,cAAgB,IAC7E7I,KAAK4G,WAAWC,IAAM7G,KAAK8D,KAAKlF,SAChCoB,KAAK4G,WAAWC,IAAM7G,KAAK8D,KAAKlF,QAEpCoB,KAAKmF,YAAcnF,KAAK8D,KAAKL,MAAM,EAAGzD,KAAK4G,WAAWC,KAEtD,IAAImC,OAAW,EACX1F,OAAW,EACX2F,OAAc,EACdC,OAAc,EAEdC,EAAoBnJ,KAAK8D,KAAKL,MAAMzD,KAAK4G,WAAWmC,IAAK/I,KAAK4G,WAAWC,KAC1C,iBAAxB7G,KAAKmF,YAAY,IACxB6D,EAAWN,KAAKK,IAAIK,MAAMV,KAAMlB,EAAmB2B,IACnD7F,EAAWoF,KAAK7B,IAAIuC,MAAMV,KAAMlB,EAAmB2B,IACnDnJ,KAAKgD,MAAQ,CAAEgG,SAAUA,EAAU1F,SAAUA,EAAUL,MAAOK,EAAW0F,EAAUK,UAAWrJ,KAAKmF,YAAYvG,UAE/GoK,EAAWN,KAAKE,MAET,IAFeF,KAAKK,IAAIK,MAAMV,KAAMlB,EAAmB2B,EAAkBG,KAAI,SAAUC,GAC1F,OAAOA,EAAE7J,UACC,IACd4D,EAAWoF,KAAKC,KAET,IAFcD,KAAK7B,IAAIuC,MAAMV,KAAMlB,EAAmB2B,EAAkBG,KAAI,SAAUC,GACzF,OAAOA,EAAE9J,WACC,IACdwJ,EAAc,IAAI/I,KAAKwI,KAAKK,IAAIK,MAAMV,KAAMlB,EAAmBxH,KAAKmF,YAAYmE,KAAI,SAAUC,GAC1F,OAAOA,EAAEhK,SAASc,gBAEtB6I,EAAc,IAAIhJ,KAAKwI,KAAK7B,IAAIuC,MAAMV,KAAMlB,EAAmBxH,KAAKmF,YAAYmE,KAAI,SAAUC,GAC1F,OAAOA,EAAEhK,SAASc,gBAEtBL,KAAKgD,MAAQ,CAAEgG,SAAUA,EAAU1F,SAAUA,EAAU2F,YAAaA,EAAaC,YAAaA,EAAajG,MAAOK,EAAW0F,EAAUK,UAAWH,EAAY7I,UAAY4I,EAAY5I,YAE1LL,KAAKgE,UAAUC,EAAIjE,KAAKuI,YAAcvI,KAAKgD,MAAMC,MACjDjD,KAAKwJ,YAEDxJ,KAAKwB,QAAQX,OAASF,EAAYvC,UAAU0C,aAC5Cd,KAAKyJ,mBAETzJ,KAAKyB,aAIV,CACCxC,IAAK,YACLV,MAAO,WAEH,IAAI4J,EAAUnI,KAAKgC,QAAQoG,WAAW,MACtCD,EAAQuB,YAAc1J,KAAKoC,MAAMmC,UACjC,IAAK,IAAIpB,EAAQ,EAAGA,GAASnD,KAAKsI,cAAenF,IAAS,CACtD,IAAIwG,EAAM3J,KAAK2D,QAAU3D,KAAKyC,OAASzC,KAAK4D,SAASnB,OAASU,EAC9DgF,EAAQyB,YACRzB,EAAQ0B,YAAY,CAAC,GAAI,IACzB1B,EAAQ2B,OAAO,EAAGH,GAClBxB,EAAQ4B,OAAO/J,KAAKwF,MAAOmE,GAC3BxB,EAAQ6B,SAGZ7B,EAAQuB,YAAc1J,KAAKoC,MAAMmC,UACjC,IAAK,IAAI0F,EAAS,EAAGA,GAAUjK,KAAK4G,WAAWC,IAAKoD,GAAU,EAAG,CAC7D,IAAIC,EAAOlK,KAAKwF,OAAS,EAAIxF,KAAK2D,SAAW3D,KAAK4D,SAAS4B,MAAQyE,EACnE9B,EAAQyB,YACRzB,EAAQ0B,YAAY,CAAC,GAAI,IACzB1B,EAAQ2B,OAAOI,EAAOlK,KAAK2F,UAAUC,EAAG,GACxCuC,EAAQ4B,OAAOG,EAAOlK,KAAK2F,UAAUC,EAAG5F,KAAKyC,QAC7C0F,EAAQ6B,YAKjB,CACC/K,IAAK,WACLV,MAAO,cAGR,CACCU,IAAK,WACLV,MAAO,cAGR,CACCU,IAAK,WACLV,MAAO,cAGR,CACCU,IAAK,mBACLV,MAAO,WAEH,IADA,IAAI4J,EAAUnI,KAAKgC,QAAQoG,WAAW,MAC7BjF,EAAQ,EAAGA,GAASnD,KAAK4G,WAAWC,IAAK1D,IAAS,CACvD,IAAIU,EAAS7D,KAAKmF,YAAYhC,GAC9B,GAAIU,EAAQ,CACiB,SAArBA,EAAOM,WACPgE,EAAQuB,YAAc1J,KAAKoC,MAAMoC,UACjC2D,EAAQgC,UAAYnK,KAAKoC,MAAMoC,WACH,SAArBX,EAAOM,WACdgE,EAAQuB,YAAc1J,KAAKoC,MAAMqC,UACjC0D,EAAQgC,UAAYnK,KAAKoC,MAAMqC,YAE/B0D,EAAQuB,YAAc1J,KAAKoC,MAAMsC,UACjCyD,EAAQgC,UAAYnK,KAAKoC,MAAMsC,WAGnC,IAAI0F,EAAOpK,KAAKwF,OAAS,EAAIxF,KAAK2D,SAAW3D,KAAK4D,SAAS4B,MAAQrC,EAC/DY,EAAO/D,KAAKyC,OAASzC,KAAK2D,QAAU3D,KAAKgE,UAAUC,GAAKjE,KAAKgD,MAAMM,SAAWO,EAAOpE,MACzF0I,EAAQyB,YACRzB,EAAQ0B,YAAY,IACpB1B,EAAQ2B,OAAOM,EAAOpK,KAAK2F,UAAUC,EAAG7B,GACxCoE,EAAQ4B,OAAOK,EAAOpK,KAAK2F,UAAUC,EAAG7B,EAAO/D,KAAKgE,UAAUC,EAAIJ,EAAOZ,OACzEkF,EAAQ6B,SAER,IAAIK,EAAa,CACbzE,EAAGwE,EAAO,GAAMpK,KAAK4D,SAAS4B,MAAQkD,KAAKE,MAAM5I,KAAK4D,SAAS4B,MAAQ,GAAK,EAAIxF,KAAK2F,UAAUC,EAC/F3B,EAAG,EACHuB,MAAOxF,KAAK4D,SAAS4B,MAAQkD,KAAKE,MAAM5I,KAAK4D,SAAS4B,MAAQ,GAC9D/C,OAAQzC,KAAKgE,UAAUC,EAAIyE,KAAK4B,IAAIzG,EAAOlE,MAAQkE,EAAOrE,OAErC,SAArBqE,EAAOM,UACPkG,EAAWpG,EAAIF,EAAO/D,KAAKgE,UAAUC,GAAKJ,EAAOpE,KAAOoE,EAAOrE,MACnC,SAArBqE,EAAOM,UACdkG,EAAWpG,EAAIF,EAAO/D,KAAKgE,UAAUC,GAAKJ,EAAOpE,KAAOoE,EAAOlE,QAE/D0K,EAAWpG,EAAIF,EAAO/D,KAAKgE,UAAUC,GAAKJ,EAAOpE,KAAOoE,EAAOrE,MAC/D6K,EAAW5H,OAAS,GAExB0F,EAAQoC,SAASF,EAAWzE,EAAGyE,EAAWpG,EAAGoG,EAAW7E,MAAO6E,EAAW5H,YAIvF,CACCxD,IAAK,WACLV,MAAO,WACH,IAAIsF,EAAS7D,KAAK8D,KAAK,GACnBqE,EAAUnI,KAAKgC,QAAQoG,WAAW,MAClCrE,EAAO/D,KAAKyC,OAASzC,KAAK2D,QAAU3D,KAAKgE,UAAUC,GAAKjE,KAAKgD,MAAMM,SAAWO,EAAOlE,OAChE,SAArBkE,EAAOM,WACPgE,EAAQuB,YAAc1J,KAAKoC,MAAMoC,UACjC2D,EAAQgC,UAAYnK,KAAKoC,MAAMoC,WACH,SAArBX,EAAOM,WACdgE,EAAQuB,YAAc1J,KAAKoC,MAAMqC,UACjC0D,EAAQgC,UAAYnK,KAAKoC,MAAMqC,YAE/B0D,EAAQuB,YAAc1J,KAAKoC,MAAMsC,UACjCyD,EAAQgC,UAAYnK,KAAKoC,MAAMsC,WAGnCyD,EAAQyB,YACRzB,EAAQ0B,YAAY,CAAC,GAAI,IACzB1B,EAAQ2B,OAAO,EAAG/F,GAClBoE,EAAQ4B,OAAO/J,KAAKwF,MAAOzB,GAC3BoE,EAAQ6B,SACR7B,EAAQ0B,YAAY,MAIzB,CACC5K,IAAK,YACLV,MAAO,SAAmBwE,GACtB,IAAIgF,EAAQ/H,KAAK+H,MAAMnC,EAAI7C,EAC3B,GAAIgF,GAAS,GAAKA,GAAS,GAAK,CAC5B/H,KAAK+H,MAAMnC,EAAImC,EACf,IAAIyC,EAAkBxK,KAAK2F,UAAUC,EAAI5F,KAAK4D,SAAS4B,MACvDxF,KAAK2F,UAAUC,EAAI4E,EAAkBxK,KAAK4D,SAAS4B,SAG5D,CACCvG,IAAK,cACLuB,IAAK,WACD,OAAOR,KAAKyC,OAAS,EAAIzC,KAAK2D,QAAU3D,KAAKyC,SAElD,CACCxD,IAAK,aACLuB,IAAK,WACD,OAAOR,KAAKwF,OAAS,EAAIxF,KAAK2D,aAI/BmE,EA7NI,GAgOfjK,EAAQiK,SAAWA,IC5Of2C,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBpK,IAAjBqK,EACH,OAAOA,EAAa/M,QAGrB,IAAIC,EAAS2M,EAAyBE,GAAY,CAGjD9M,QAAS,IAOV,OAHAgN,EAAoBF,GAAU7M,EAAQA,EAAOD,QAAS6M,GAG/C5M,EAAOD,Q,6BCnBXW,EAAe,WAAc,SAASC,EAAiBC,EAAQC,GAAS,IAAK,IAAIT,EAAI,EAAGA,EAAIS,EAAMC,OAAQV,IAAK,CAAE,IAAIW,EAAaF,EAAMT,GAAIW,EAAWC,WAAaD,EAAWC,aAAc,EAAOD,EAAWE,cAAe,EAAU,UAAWF,IAAYA,EAAWG,UAAW,GAAMX,OAAOC,eAAeI,EAAQG,EAAWI,IAAKJ,IAAiB,OAAO,SAAUK,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYV,EAAiBS,EAAYG,UAAWF,GAAiBC,GAAaX,EAAiBS,EAAaE,GAAqBF,GAA7gB,GAInBb,OAAOC,eAAeT,EAAS,aAAc,CAAEU,OAAO,IACtDV,EAAQiN,cAAW,EACnB,IAAIC,EAAS,EAAQ,KACjBC,EAAY,EAAQ,KACpBC,EAAc,EAAQ,KACtBC,EAAU,EAAQ,KAClBC,EAAa,EAAQ,KACrBC,EAAY,EAAQ,KACpBC,EAAa,EAAQ,KAGrBP,EAAW,WAEX,SAASA,EAASQ,EAAUxH,EAAMtC,EAASY,IAf/C,SAAyBvC,EAAUX,GAAe,KAAMW,aAAoBX,GAAgB,MAAM,IAAIY,UAAU,qCAgBxGC,CAAgBC,KAAM8K,GAGtB9K,KAAKwB,QAAkCxB,KAAKwB,aAAjBjB,IAAZiB,EAAuCA,EAAyBwJ,EAAUtK,oBACzFV,KAAKoC,MAA8BpC,KAAKoC,WAAjB7B,IAAV6B,EAAmCA,EAAqB8I,EAAQ5G,kBAE7EtE,KAAK8D,KAAO9D,KAAKuL,YAAYzH,GAE7B9D,KAAKwL,aAAaF,GAClBtL,KAAKyL,iBAyUT,OApUAjN,EAAasM,EAAU,CAAC,CACpB7L,IAAK,cAGLV,MAAO,SAAqBuF,GACxB,IAAI4H,EAAgB,GAChB7K,EAAO,SACX,IAMI,GAJI8K,MAAM7H,EAAK,MACXjD,EAAO,QAGE,WAATA,EAAmB,CACnB,IAAI+K,GAA4B,EAC5BC,GAAoB,EACpBC,OAAiBvL,EAErB,IACI,IAAK,IAAyCwL,EAArCC,EAAYlI,EAAKmI,OAAOC,cAAsBN,GAA6BG,EAAQC,EAAUG,QAAQC,MAAOR,GAA4B,EAAM,CACnJ,IAAI1G,EAAO6G,EAAMxN,MAEjB,GAAKoN,MAAMzG,GAGP,KAAM,+CAFNwG,EAAcW,KAAKnH,IAK7B,MAAOoH,GACLT,GAAoB,EACpBC,EAAiBQ,EACnB,QACE,KACSV,GAA6BI,EAAUO,QACxCP,EAAUO,SAEhB,QACE,GAAIV,EACA,MAAMC,IAMtB,GAAa,SAATjL,EAAiB,CACjB,IAAI2L,GAA6B,EAC7BC,GAAqB,EACrBC,OAAkBnM,EAEtB,IACI,IAAK,IAA0CoM,EAAtCC,EAAa9I,EAAKmI,OAAOC,cAAuBM,GAA8BG,EAASC,EAAWT,QAAQC,MAAOI,GAA6B,EAAM,CACzJ,IAAIK,EAAQF,EAAOpO,MAEnB,IAAIoN,MAAMkB,GAGN,KAAM,6CAFNnB,EAAcW,KAAK,IAAItB,EAAOzL,KAAKuN,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,GAAIA,EAAM,MAKrG,MAAOP,GACLG,GAAqB,EACrBC,EAAkBJ,EACpB,QACE,KACSE,GAA8BI,EAAWL,QAC1CK,EAAWL,SAEjB,QACE,GAAIE,EACA,MAAMC,KAO1B,MAAOI,GACHC,QAAQC,MAAM,uBAAyBF,GAG3C,QACI,OAAOpB,EAAcuB,aAK9B,CACChO,IAAK,eACLV,MAAO,SAAsB+M,GACzB,IAGI,GADAtL,KAAKgC,QAAUL,SAASkB,cAAcyI,GACjB,OAAjBtL,KAAKgC,QAAkB,KAAM,eAAiBsJ,EAIlDtL,KAAKgC,QAAQE,UAAY,WACzBlC,KAAKgC,QAAQI,MAAMyD,SAAW,WAC9B7F,KAAKgC,QAAQI,MAAM8K,SAAW,SAC9BlN,KAAKgC,QAAQI,MAAM+K,gBAAkBnN,KAAKoC,MAAMO,QAChD3C,KAAKgC,QAAQI,MAAMuC,KAAO3E,KAAKoC,MAAMuC,KAErC3E,KAAKoN,oBACLpN,KAAKqN,oBACLrN,KAAKsN,qBACLtN,KAAKuN,mBACP,MAAOT,GACLC,QAAQC,MAAM,uBAAyBF,MAGhD,CACC7N,IAAK,mBACLV,MAAO,WACH,IAAIiP,EAAiB7L,SAASM,cAAc,OAC5CuL,EAAeC,aAAa,QAAS,WACrCD,EAAepL,MAAMoD,MAAQ,OAC7BgI,EAAepL,MAAMyD,SAAW,WAChC2H,EAAepL,MAAMsB,IAAM,IAC3B8J,EAAepL,MAAMsL,KAAO,IAC5BF,EAAepL,MAAMK,OAASzC,KAAKoC,MAAMC,cAAgB,KACzDmL,EAAepL,MAAMuL,aAAe,aAAe3N,KAAKoC,MAAMM,YAC9D1C,KAAK4N,QAAU,IAAIxC,EAAUtE,QAAQ0G,EAAgBxN,KAAK6E,UAC1D7E,KAAKgC,QAAQc,YAAY9C,KAAK4N,QAAQ5L,WAE3C,CACC/C,IAAK,oBACLV,MAAO,WACH,IAAIsP,EAAkBlM,SAASM,cAAc,UAC7C4L,EAAgBJ,aAAa,QAAS,YACtCI,EAAgBzL,MAAMyD,SAAW,WACjCgI,EAAgBzL,MAAMsB,IAAM1D,KAAKoC,MAAMC,cAAgB,KACvDwL,EAAgBzL,MAAMsL,KAAO,IAC7BG,EAAgBrI,MAAQxF,KAAKgC,QAAQ8L,YAAc9N,KAAKoC,MAAME,eAC9DuL,EAAgBpL,OAASzC,KAAKgC,QAAQ+L,aAAe/N,KAAKoC,MAAMC,cAAgBrC,KAAKoC,MAAMG,eAC3FsL,EAAgBzL,MAAMoD,MAAQqI,EAAgBrI,MAAQ,KACtDqI,EAAgBzL,MAAMK,OAASoL,EAAgBpL,OAAS,KACxDzC,KAAKgC,QAAQc,YAAY+K,GACzB7N,KAAK6E,SAAW,IAAIwG,EAAWvD,SAAS+F,EAAiB7N,KAAK8D,KAAM9D,KAAKwB,QAASxB,KAAKoC,SAE5F,CACCnD,IAAK,qBACLV,MAAO,WACHyB,KAAKgO,UAAY,IAAI/C,EAAY9J,UAAUnB,QAEhD,CACCf,IAAK,oBACLV,MAAO,WACH,IAAI0P,EAAkBtM,SAASM,cAAc,OAC7CgM,EAAgBR,aAAa,QAAS,aACtCQ,EAAgB7L,MAAMoD,MAAQ,OAC9ByI,EAAgB7L,MAAMK,OAASzC,KAAKoC,MAAMG,eAAiB,KAC3D0L,EAAgB7L,MAAMyD,SAAW,WACjCoI,EAAgB7L,MAAM8L,OAAS,IAC/BD,EAAgB7L,MAAMsL,KAAO,IAC7BO,EAAgB7L,MAAM+L,UAAY,aAAenO,KAAKoC,MAAMM,YAC5DuL,EAAgB7L,MAAM8K,SAAW,SACjCe,EAAgB7L,MAAMgM,OAAS,YAC/BH,EAAgB7L,MAAMiM,WAAa,OACnCrO,KAAKsO,SAAW,IAAInD,EAAWvG,SAASqJ,EAAiBjO,KAAK6E,UAC9D7E,KAAKgC,QAAQc,YAAY9C,KAAKsO,SAAStM,WAE5C,CACC/C,IAAK,iBACLV,MAAO,WACHyB,KAAK6E,SAAS7C,QAAQwD,MAAQxF,KAAK6E,SAASa,YAAc1F,KAAKgC,QAAQ8L,YAAc9N,KAAKoC,MAAME,gBAChGtC,KAAK6E,SAAS7C,QAAQS,OAASzC,KAAK6E,SAASa,YAAc1F,KAAKgC,QAAQ+L,aAAe/N,KAAKoC,MAAMC,cAAgBrC,KAAKoC,MAAMG,gBAC7HvC,KAAK6E,SAAS7C,QAAQI,MAAMoD,MAAQxF,KAAKgC,QAAQ8L,YAAc9N,KAAKoC,MAAME,eAAiB,KAC3FtC,KAAK6E,SAAS7C,QAAQI,MAAMK,OAASzC,KAAKgC,QAAQ+L,aAAe/N,KAAKoC,MAAMC,cAAgBrC,KAAKoC,MAAMG,eAAiB,KACxHvC,KAAK6E,SAASqD,SACdlI,KAAKgO,UAAUzM,kBACfvB,KAAKgO,UAAUvM,WACfzB,KAAKsO,SAASxJ,uBAEnB,CACC7F,IAAK,iBACLV,MAAO,WACH,IAAIwG,EAAQ/E,KAGZgI,OAAOuG,iBAAiB,UAAU,WAC9BxJ,EAAMyJ,oBAGVxO,KAAK6E,SAAS7C,QAAQuM,iBAAiB,SAAS,SAAUzB,GACtD/H,EAAMF,SAASc,UAAUC,GAAKb,EAAMF,SAASa,WAAaoH,EAAE2B,OAC5D1J,EAAMyJ,iBACFzJ,EAAMF,SAASc,UAAUC,EAAI,GAC7BoC,OAAO0G,uBAAsB,WACzB3J,EAAMF,SAASc,UAAUC,EAAI,EAC7Bb,EAAMyJ,oBAGVzJ,EAAMF,SAASc,UAAUC,EAAIb,EAAMjB,KAAKlF,OAASmG,EAAMF,SAASjB,SAAS4B,MAAQT,EAAMF,SAASW,MAAQ,KACxGwC,OAAO0G,uBAAsB,WACzB3J,EAAMF,SAASc,UAAUC,EAAIb,EAAMjB,KAAKlF,OAASmG,EAAMF,SAASjB,SAAS4B,MAAQT,EAAMF,SAASW,MAAQ,IACxGT,EAAMyJ,uBAKlB,IAAIG,EAAc,EACdC,EAAoB,SAA2B9B,GAC/C/H,EAAMF,SAASc,UAAUC,GAAKb,EAAMF,SAASa,YAAciJ,EAAc7B,EAAE+B,SAC3EF,EAAc7B,EAAE+B,QAChB9J,EAAMyJ,iBACFzJ,EAAMF,SAASc,UAAUC,EAAI,GAC7BoC,OAAO0G,uBAAsB,WACzB3J,EAAMF,SAASc,UAAUC,EAAI,EAC7Bb,EAAMyJ,oBAGVzJ,EAAMF,SAASc,UAAUC,EAAIb,EAAMjB,KAAKlF,OAASmG,EAAMF,SAASjB,SAAS4B,MAAQT,EAAMF,SAASW,MAAQ,KACxGwC,OAAO0G,uBAAsB,WACzB3J,EAAMF,SAASc,UAAUC,EAAIb,EAAMjB,KAAKlF,OAASmG,EAAMF,SAASjB,SAAS4B,MAAQT,EAAMF,SAASW,MAAQ,IACxGT,EAAMyJ,qBAIlBxO,KAAK6E,SAAS7C,QAAQuM,iBAAiB,aAAa,SAAUzB,GAC1D6B,EAAc7B,EAAE+B,QAChB9J,EAAMF,SAAS7C,QAAQuM,iBAAiB,YAAaK,GACrD7J,EAAMF,SAAS7C,QAAQuM,iBAAiB,WAAW,SAAUzB,GACzD/H,EAAMF,SAAS7C,QAAQ8M,oBAAoB,YAAaF,SAIhE,IAAIG,EAAa,EACbC,EAAiB,EAEjBC,EAAoB,SAA2BnC,GAC/C,IAAI2B,EAASM,EAAajC,EAAEoC,QAAQ,GAAGL,QACvC9J,EAAMF,SAASc,UAAUC,GAAKb,EAAMF,SAASa,WAAa+I,EAC1C/F,KAAKyG,MAAMV,GAAUvO,KAAKkP,MAAQJ,GAAkB,IACpED,EAAajC,EAAEoC,QAAQ,GAAGL,QAC1BG,EAAiB9O,KAAKkP,MACtBrK,EAAMyJ,iBACFzJ,EAAMF,SAASc,UAAUC,EAAI,GAC7BoC,OAAO0G,uBAAsB,WACzB3J,EAAMF,SAASc,UAAUC,EAAI,EAC7Bb,EAAMyJ,oBAGVzJ,EAAMF,SAASc,UAAUC,EAAIb,EAAMjB,KAAKlF,OAASmG,EAAMF,SAASjB,SAAS4B,MAAQT,EAAMF,SAASW,MAAQ,KACxGwC,OAAO0G,uBAAsB,WACzB3J,EAAMF,SAASc,UAAUC,EAAIb,EAAMjB,KAAKlF,OAASmG,EAAMF,SAASjB,SAAS4B,MAAQT,EAAMF,SAASW,MAAQ,IACxGT,EAAMyJ,qBAIlBxO,KAAK6E,SAAS7C,QAAQuM,iBAAiB,cAAc,SAAUzB,GAC3DiC,EAAajC,EAAEoC,QAAQ,GAAGL,QAC1BG,EAAiB9O,KAAKkP,MACtBrK,EAAMF,SAAS7C,QAAQuM,iBAAiB,YAAaU,GACrDlK,EAAMF,SAAS7C,QAAQuM,iBAAiB,YAAY,SAAUzB,GAC1D/H,EAAMF,SAAS7C,QAAQ8M,oBAAoB,YAAaG,GACpDlK,EAAMF,SAASc,UAAUC,EAAI,GAC7BoC,OAAO0G,uBAAsB,WACzB3J,EAAMF,SAASc,UAAUC,EAAI,EAC7Bb,EAAMyJ,0BAMtBxO,KAAKsO,SAAStM,QAAQuM,iBAAiB,aAAa,SAAUzB,GAC1D,IAAIuC,EAAWvC,EAAE+B,QACbS,EAAa,SAAoBC,GACjC,IAAIxM,GAASsM,EAAWE,EAAUV,SAAW,IAC7C9J,EAAMF,SAAS2K,UAAUzM,GACzBgC,EAAMyJ,iBACNa,EAAWE,EAAUV,SAEzB9J,EAAMuJ,SAAStM,QAAQuM,iBAAiB,YAAae,GACrDvK,EAAMuJ,SAAStM,QAAQuM,iBAAiB,WAAW,WAC/CxJ,EAAMuJ,SAAStM,QAAQ8M,oBAAoB,YAAaQ,WAIrE,CACCrQ,IAAK,mBACLuB,IAAK,WACD,OAAOwH,OAAOC,mBAEnB,CACChJ,IAAK,eACLuB,IAAK,WACD,MAAO,CACHgF,MAAOxF,KAAK6E,SAASW,MAAQxF,KAAKiI,iBAClCxF,OAAQzC,KAAK6E,SAASpC,OAASzC,KAAKiI,oBAG7C,CACChJ,IAAK,QACLuB,IAAK,WACD,OAAOR,KAAK6E,SAAS7B,QAE1B,CACC/D,IAAK,oBACLuB,IAAK,WACD,OAAOR,KAAK6E,SAASyD,gBAE1B,CACCrJ,IAAK,UACLuB,IAAK,WACD,OAAOR,KAAK6E,SAASlB,UAE1B,CACC1E,IAAK,WACLuB,IAAK,WACD,MAAO,CACHgF,MAAOxF,KAAK6E,SAASjB,SAAS4B,MAAQxF,KAAKiI,iBAC3CxF,OAAQzC,KAAK6E,SAASjB,SAASnB,OAASzC,KAAKiI,oBAGtD,CACChJ,IAAK,YACLuB,IAAK,WACD,MAAO,CACHoF,EAAG5F,KAAK6E,SAASb,UAAU4B,EAAI5F,KAAKiI,iBACpChE,EAAGjE,KAAK6E,SAASb,UAAUC,EAAIjE,KAAKiI,sBAKzC6C,EArVI,GAwVfjN,EAAQiN,SAAWA,EAEnBA,EAAS2E,MAAQ,G","sources":["webpack://finchart/webpack/universalModuleDefinition","webpack://finchart/./build-babel/charttype.js","webpack://finchart/./build-babel/data.js","webpack://finchart/./build-babel/options.js","webpack://finchart/./build-babel/priceaxis.js","webpack://finchart/./build-babel/style.js","webpack://finchart/./build-babel/timeaxis.js","webpack://finchart/./build-babel/timeframe.js","webpack://finchart/./build-babel/toolbar.js","webpack://finchart/./build-babel/viewport.js","webpack://finchart/webpack/bootstrap","webpack://finchart/./build-babel/finchart.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, function() {\nreturn ","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChartType = void 0;\nvar ChartType;\n(function (ChartType) {\n    ChartType[\"Line\"] = \"line\";\n    ChartType[\"Bar\"] = \"bar\";\n    ChartType[\"Area\"] = \"area\";\n    ChartType[\"Candlestick\"] = \"candlestick\";\n})(ChartType = exports.ChartType || (exports.ChartType = {}));\n//# sourceMappingURL=charttype.js.map","\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OHLC = void 0;\n\nvar OHLC = function () {\n    // Warning! This will assume the date time is in UTC + 2 timezone\n    function OHLC(datetime, open, high, low, close, volume) {\n        _classCallCheck(this, OHLC);\n\n        var utc = new Date(datetime.replace(\" \", \"T\"));\n        var localDate = utc.getTime() - 2 * 3600000 - utc.getTimezoneOffset() * 60000;\n        this.datetime = new Date(localDate);\n        this.open = open;\n        this.high = high;\n        this.low = low;\n        this.close = close;\n        this.volume = volume ? volume : undefined;\n    }\n    // Computed properties\n\n\n    _createClass(OHLC, [{\n        key: \"range\",\n        get: function get() {\n            return this.high - this.low;\n        }\n    }, {\n        key: \"barRange\",\n        get: function get() {\n            return this.close - this.open;\n        }\n    }, {\n        key: \"direction\",\n        get: function get() {\n            if (this.barRange > 0) return \"bull\";\n            if (this.barRange < 0) return \"bear\";\n            return \"flat\";\n        }\n    }]);\n\n    return OHLC;\n}();\n\nexports.OHLC = OHLC;\n//# sourceMappingURL=data.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DefaultChartOptions = void 0;\nvar charttype_1 = require(\"./charttype\");\nvar timeframe_1 = require(\"./timeframe\");\nexports.DefaultChartOptions = {\n    type: charttype_1.ChartType.Candlestick,\n    timeframe: timeframe_1.Timeframe.H1,\n    displayFlag: true\n};\n//# sourceMappingURL=options.js.map","\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PriceAxis = void 0;\n/**\n * Class that represent price-axis of the chart\n */\n\nvar PriceAxis = function () {\n    /**\n     * @constructor\n     * @param parent {Finchart}\n     */\n    function PriceAxis(parent) {\n        _classCallCheck(this, PriceAxis);\n\n        this.parent = parent;\n        this.initStyle();\n        this.drawElement();\n        this.plotPriceLabels();\n        if (this.parent.options.displayFlag) {\n            this.drawFlag();\n        }\n    }\n    /** Add CSS to document */\n\n\n    _createClass(PriceAxis, [{\n        key: \"initStyle\",\n        value: function initStyle() {\n            var styleClass = \"finchart-price-axis-style\";\n            // Remove previous style if exists\n            var existingStyles = document.querySelectorAll(\"head style.\" + styleClass);\n            existingStyles.forEach(function (el) {\n                el.remove();\n            });\n            // Create new style element\n            var element = document.createElement(\"style\");\n            element.className = styleClass;\n            element.innerHTML = \"\\n            .finchart .price-axis {\\n                position: absolute;\\n                top: \" + this.parent.style.toolbarHeight + \"px;\\n                right: 0;\\n                width: \" + this.parent.style.priceAxisWidth + \"px;\\n                height: \" + (this.parent.style.timeAxisHeight + this.parent.viewportSize.height) + \"px;\\n                border-left: 2px solid \" + this.parent.style.borderColor + \";\\n                background: \" + (this.parent.style.bgColor + \"BB\") + \";\\n                overflow: hidden;\\n            }\\n            .finchart .price-axis .price {\\n                position: absolute;\\n                left: 10px;\\n                line-height: 20px;\\n                margin-top: -10px;\\n                color: \" + this.parent.style.labelColor + \";\\n            }\\n            .finchart .price-axis .price-flag {\\n                position: absolute;\\n                left: 0;\\n                height: 20px;\\n                margin-top: -15px;\\n                padding: 5px 10px;\\n                line-height: 20px;\\n                z-index: 1000;\\n                color: #FFF;\\n                border-radius: 4px;\\n            }\\n        \";\n            document.querySelector(\"head\").appendChild(element);\n        }\n        /** Draws HTML element of price axis */\n\n    }, {\n        key: \"drawElement\",\n        value: function drawElement() {\n            // Create HTML element\n            this.element = document.createElement(\"div\");\n            this.element.className = \"price-axis\";\n            // Append to parent\n            this.parent.element.appendChild(this.element);\n        }\n        /** Plot price labels */\n\n    }, {\n        key: \"plotPriceLabels\",\n        value: function plotPriceLabels() {\n            this.element.innerHTML = \"\";\n            var delta = this.parent.bound.range / this.parent.maximumDataHeight;\n            for (var index = 0; index <= this.parent.maximumDataHeight; index++) {\n                var label = document.createElement(\"div\");\n                label.className = \"price\";\n                label.innerText = (this.parent.bound.maxPrice - delta * index).toString().padEnd(7, \"0\").slice(0, 7);\n                label.style.top = this.parent.viewportSize.height * this.parent.padding + index * this.parent.gridSize.height + \"px\";\n                this.element.appendChild(label);\n            }\n        }\n        /** Draw current price flag */\n\n    }, {\n        key: \"drawFlag\",\n        value: function drawFlag() {\n            var candle = this.parent.data[0];\n            var ypos = this.parent.viewportSize.height * this.parent.padding + this.parent.pointSize.y * (this.parent.bound.maxPrice - candle.close);\n            var color = this.parent.style[candle.direction + \"Color\"];\n            var element = document.createElement(\"div\");\n            element.className = \"price-flag\";\n            element.innerText = candle.close.toString().padEnd(7, \"0\").substr(0, 7);\n            element.style.background = \"linear-gradient(270deg, \" + (color + \"AA\") + \", \" + (color + \"EE\") + \")\";\n            element.style.top = ypos + \"px\";\n            if (ypos < this.parent.viewportSize.height) {\n                this.element.appendChild(element);\n            }\n        }\n    }]);\n\n    return PriceAxis;\n}();\n\nexports.PriceAxis = PriceAxis;\n//# sourceMappingURL=priceaxis.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DefaultChartStyle = void 0;\nexports.DefaultChartStyle = {\n    bgColor: \"#141420\",\n    labelColor: \"#666677\",\n    gridColor: \"#26262f\",\n    borderColor: \"#343440\",\n    bullColor: \"#00A562\",\n    bearColor: \"#BF2121\",\n    flatColor: \"yellow\",\n    toolbarHeight: 35,\n    priceAxisWidth: 75,\n    timeAxisHeight: 55,\n    font: \"14px Helvetica, Arial, sans-serif\"\n};\n//# sourceMappingURL=style.js.map","\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TimeAxis = void 0;\nvar timeframe_1 = require(\"./timeframe\");\n\nvar TimeAxis = function () {\n    function TimeAxis(element, viewport) {\n        _classCallCheck(this, TimeAxis);\n\n        this.element = element;\n        this.viewport = viewport;\n        this.plotDateTimeLabels();\n    }\n\n    _createClass(TimeAxis, [{\n        key: \"plotDateTimeLabels\",\n        value: function plotDateTimeLabels() {\n            var _this = this;\n\n            this.element.innerHTML = \"\";\n            var lastPeriodIndex = 0;\n\n            var _loop = function _loop(index) {\n                var item = _this.viewport.displayData[index];\n                var previousItem = _this.viewport.displayData[index - 1];\n                var timeLabelText = \"\";\n                var date = item ? _this.viewport.displayData[index].datetime : new Date();\n                if (_this.viewport.options.timeframe === timeframe_1.Timeframe.H1) {\n                    timeLabelText = date.getHours() + \":00\";\n                }\n                // Time label\n                if (index % 6 === 0) {\n                    var label = document.createElement(\"div\");\n                    label.className = \"time\";\n                    var width = _this.viewport.gridSize.width * 3;\n                    var rightPos = (index * _this.viewport.gridSize.width + _this.viewport.style.priceAxisWidth * _this.viewport.pixelRatio + _this.viewport.padding * _this.viewport.width - width - _this.viewport.scrollPos.x) / _this.viewport.pixelRatio;\n                    label.innerText = timeLabelText;\n                    label.style.color = _this.viewport.style.labelColor;\n                    label.style.position = \"absolute\";\n                    label.style.top = \"10px\";\n                    label.style.right = rightPos + \"px\";\n                    label.style.textAlign = \"center\";\n                    label.style.width = width + \"px\";\n                    if (rightPos >= -1 * _this.viewport.style.priceAxisWidth) {\n                        _this.element.appendChild(label);\n                    }\n                }\n                // Period label\n                (function () {\n                    if (index == 0 && item) {\n                        var periodLabel = document.createElement(\"div\");\n                        var _width = _this.viewport.gridSize.width;\n                        var _rightPos = (_this.viewport.style.priceAxisWidth * _this.viewport.pixelRatio + _this.viewport.padding * _this.viewport.width + _this.viewport.gridSize.width * index - _this.viewport.scrollPos.x) / _this.viewport.pixelRatio;\n                        periodLabel.className = \"period\";\n                        periodLabel.id = \"period-\" + item.datetime.getDate() + \"-\" + item.datetime.getMonth();\n                        periodLabel.innerText = item.datetime.getDate().toString().padStart(2, \"0\") + \"/\" + (item.datetime.getMonth() + 1).toString().padStart(2, \"0\");\n                        periodLabel.style.height = _this.viewport.style.timeAxisHeight + \"px\";\n                        periodLabel.style.position = \"absolute\";\n                        periodLabel.style.top = \"0\";\n                        periodLabel.style.right = _rightPos + \"px\";\n                        periodLabel.style.paddingTop = \"30px\";\n                        periodLabel.style.boxSizing = \"border-box\";\n                        periodLabel.style.borderLeft = \"1px solid \" + _this.viewport.style.gridColor;\n                        periodLabel.style.color = _this.viewport.style.labelColor;\n                        periodLabel.style.textAlign = \"center\";\n                        if (_rightPos <= _this.viewport.width / _this.viewport.pixelRatio) {\n                            _this.element.appendChild(periodLabel);\n                        }\n                    } else if (item && previousItem) {\n                        if (previousItem.datetime.getDate() !== item.datetime.getDate()) {\n                            var _periodLabel = document.createElement(\"div\");\n                            var _width2 = _this.viewport.gridSize.width * 4;\n                            var _rightPos2 = (_this.viewport.style.priceAxisWidth * _this.viewport.pixelRatio + _this.viewport.padding * _this.viewport.width + _this.viewport.gridSize.width * index - _this.viewport.scrollPos.x) / _this.viewport.pixelRatio;\n                            _periodLabel.className = \"period\";\n                            _periodLabel.id = \"period-\" + item.datetime.getDate() + \"-\" + item.datetime.getMonth();\n                            _periodLabel.innerText = item.datetime.getDate().toString().padStart(2, \"0\") + \"/\" + (item.datetime.getMonth() + 1).toString().padStart(2, \"0\");\n                            _periodLabel.style.height = _this.viewport.style.timeAxisHeight + \"px\";\n                            _periodLabel.style.position = \"absolute\";\n                            _periodLabel.style.top = \"0\";\n                            _periodLabel.style.right = _rightPos2 + \"px\";\n                            _periodLabel.style.paddingTop = \"30px\";\n                            _periodLabel.style.boxSizing = \"border-box\";\n                            _periodLabel.style.borderLeft = \"1px solid \" + _this.viewport.style.gridColor;\n                            _periodLabel.style.color = _this.viewport.style.labelColor;\n                            _periodLabel.style.textAlign = \"center\";\n                            if (_rightPos2 <= _this.viewport.width / _this.viewport.pixelRatio) {\n                                _this.element.appendChild(_periodLabel);\n                            }\n                            lastPeriodIndex = index;\n                        } else {\n                            var prevLabel = _this.element.querySelector(\"#period-\" + item.datetime.getDate() + \"-\" + item.datetime.getMonth());\n                            if (prevLabel) {\n                                prevLabel.style.width = _this.viewport.gridSize.width * (index - lastPeriodIndex + 1) / _this.viewport.pixelRatio + \"px\";\n                            }\n                        }\n                    }\n                })();\n            };\n\n            for (var index = 0; index <= this.viewport.dataCursor.max; index++) {\n                _loop(index);\n            }\n        }\n    }]);\n\n    return TimeAxis;\n}();\n\nexports.TimeAxis = TimeAxis;\n//# sourceMappingURL=timeaxis.js.map","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Timeframe = void 0;\nvar Timeframe;\n(function (Timeframe) {\n    Timeframe[\"M1\"] = \"M1\";\n    Timeframe[\"M5\"] = \"M5\";\n    Timeframe[\"M15\"] = \"M15\";\n    Timeframe[\"M30\"] = \"M30\";\n    Timeframe[\"H1\"] = \"H1\";\n    Timeframe[\"H4\"] = \"H4\";\n    Timeframe[\"D1\"] = \"D1\";\n    Timeframe[\"W1\"] = \"W1\";\n    Timeframe[\"MN\"] = \"MN\"; // 1-month\n})(Timeframe = exports.Timeframe || (exports.Timeframe = {}));\n//# sourceMappingURL=timeframe.js.map","\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Toolbar = void 0;\n\nvar Toolbar = function () {\n    function Toolbar(element, viewport) {\n        _classCallCheck(this, Toolbar);\n\n        this.element = element;\n        this.viewport = viewport;\n        this.initStyle();\n        this.initSymbol();\n        this.initTimeframe();\n        this.initChartType();\n        this.initFullscreenTrigger();\n    }\n\n    _createClass(Toolbar, [{\n        key: \"initStyle\",\n        value: function initStyle() {\n            this.element.style.display = \"flex\";\n        }\n    }, {\n        key: \"initSymbol\",\n        value: function initSymbol() {\n            var symbolElement = document.createElement(\"div\");\n            symbolElement.className = \"symbol\";\n            symbolElement.innerHTML = \"<strong class=\\\"name\\\">USDJPY</strong>\";\n            symbolElement.style.color = this.viewport.style.labelColor;\n            symbolElement.style.height = this.viewport.style.toolbarHeight + \"px\";\n            symbolElement.style.lineHeight = this.viewport.style.toolbarHeight + \"px\";\n            symbolElement.style.boxSizing = \"border-box\";\n            symbolElement.style.borderRight = \"1px solid \" + this.viewport.style.borderColor;\n            symbolElement.style.padding = \"0 10px\";\n            this.element.appendChild(symbolElement);\n        }\n    }, {\n        key: \"initTimeframe\",\n        value: function initTimeframe() {\n            var timeframeElement = document.createElement(\"div\");\n            timeframeElement.className = \"timeframe\";\n            timeframeElement.innerHTML = \"H1\";\n            timeframeElement.style.color = this.viewport.style.labelColor;\n            timeframeElement.style.height = this.viewport.style.toolbarHeight + \"px\";\n            timeframeElement.style.lineHeight = this.viewport.style.toolbarHeight + \"px\";\n            timeframeElement.style.boxSizing = \"border-box\";\n            timeframeElement.style.borderRight = \"1px solid \" + this.viewport.style.borderColor;\n            timeframeElement.style.padding = \"0 10px\";\n            this.element.appendChild(timeframeElement);\n        }\n    }, {\n        key: \"initChartType\",\n        value: function initChartType() {\n            var timeframeElement = document.createElement(\"div\");\n            timeframeElement.className = \"chart-type\";\n            timeframeElement.innerHTML = \"Candlestick\";\n            timeframeElement.style.color = this.viewport.style.labelColor;\n            timeframeElement.style.height = this.viewport.style.toolbarHeight + \"px\";\n            timeframeElement.style.lineHeight = this.viewport.style.toolbarHeight + \"px\";\n            timeframeElement.style.boxSizing = \"border-box\";\n            timeframeElement.style.borderRight = \"1px solid \" + this.viewport.style.borderColor;\n            timeframeElement.style.padding = \"0 10px\";\n            this.element.appendChild(timeframeElement);\n        }\n    }, {\n        key: \"initFullscreenTrigger\",\n        value: function initFullscreenTrigger() {\n            var timeframeElement = document.createElement(\"div\");\n            timeframeElement.className = \"fullscreen-trigger\";\n            timeframeElement.innerHTML = \"Fullscreen\";\n            timeframeElement.style.color = this.viewport.style.labelColor;\n            timeframeElement.style.height = this.viewport.style.toolbarHeight + \"px\";\n            timeframeElement.style.lineHeight = this.viewport.style.toolbarHeight + \"px\";\n            timeframeElement.style.boxSizing = \"border-box\";\n            timeframeElement.style.borderRight = \"1px solid \" + this.viewport.style.borderColor;\n            timeframeElement.style.padding = \"0 10px\";\n            this.element.appendChild(timeframeElement);\n        }\n    }]);\n\n    return Toolbar;\n}();\n\nexports.Toolbar = Toolbar;\n//# sourceMappingURL=toolbar.js.map","\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Viewport = void 0;\nvar charttype_1 = require(\"./charttype\");\n/** A viewport class that contains all the chart elements and drawings */\n\nvar Viewport = function () {\n    /** Create a viewport instance */\n    function Viewport(element, data, options, style) {\n        _classCallCheck(this, Viewport);\n\n        this.element = element;\n        this.padding = 0.05;\n        this.scrollPos = { x: 0, y: 0 };\n        this.scale = { x: 1, y: 1 };\n        this.pointSize = { x: 9, y: 9 };\n        this.data = data;\n        this.options = options;\n        this.style = style;\n        // Adjusting for high density display\n        this.pixelRatio = window.devicePixelRatio;\n        if (this.pixelRatio !== 1) {\n            this.pointSize = { x: this.pointSize.x * this.pixelRatio, y: this.pointSize.y * this.pixelRatio };\n            this.element.width = this.pixelRatio * this.element.width;\n            this.element.height = this.pixelRatio * this.element.height;\n        }\n        this.render();\n    }\n\n    _createClass(Viewport, [{\n        key: \"render\",\n\n        /** Render viewport */\n        value: function render() {\n            var context = this.element.getContext(\"2d\");\n            this.width = this.element.width;\n            this.height = this.element.height;\n            context.clearRect(0, 0, this.width, this.height);\n            this.maxDataHeight = 10;\n            this.gridSize = {\n                height: this.scale.y * this.innerHeight / this.maxDataHeight,\n                width: this.scale.x * this.pointSize.x\n            };\n            // Calculate data length\n            var scrolledPoints = Math.ceil(this.scrollPos.x / this.gridSize.width);\n            var startIndex = 0;\n            if (this.scrollPos.x >= this.padding * this.width) {\n                startIndex = Math.floor((this.scrollPos.x - this.padding * this.width) / this.gridSize.width);\n            } else {\n                startIndex = 0;\n            }\n            this.maxDataLength = Math.ceil(this.innerWidth / this.gridSize.width);\n            this.dataCursor = { min: startIndex, max: scrolledPoints + (this.maxDataLength - 1) };\n            if (this.dataCursor.max > this.data.length) {\n                this.dataCursor.max = this.data.length;\n            }\n            this.displayData = this.data.slice(0, this.dataCursor.max);\n            // Calculate bounds\n            var minPrice = void 0,\n                maxPrice = void 0,\n                minDateTime = void 0,\n                maxDateTime = void 0,\n                timeRange = void 0;\n            var cursorDisplayData = this.data.slice(this.dataCursor.min, this.dataCursor.max);\n            if (typeof this.displayData[0] === \"number\") {\n                minPrice = Math.min.apply(Math, _toConsumableArray(cursorDisplayData));\n                maxPrice = Math.max.apply(Math, _toConsumableArray(cursorDisplayData));\n                this.bound = { minPrice: minPrice, maxPrice: maxPrice, range: maxPrice - minPrice, timeRange: this.displayData.length };\n            } else {\n                minPrice = Math.floor(Math.min.apply(Math, _toConsumableArray(cursorDisplayData.map(function (v) {\n                    return v.low;\n                }))) * 100) / 100;\n                maxPrice = Math.ceil(Math.max.apply(Math, _toConsumableArray(cursorDisplayData.map(function (v) {\n                    return v.high;\n                }))) * 100) / 100;\n                minDateTime = new Date(Math.min.apply(Math, _toConsumableArray(this.displayData.map(function (v) {\n                    return v.datetime.getTime();\n                }))));\n                maxDateTime = new Date(Math.max.apply(Math, _toConsumableArray(this.displayData.map(function (v) {\n                    return v.datetime.getTime();\n                }))));\n                this.bound = { minPrice: minPrice, maxPrice: maxPrice, minDateTime: minDateTime, maxDateTime: maxDateTime, range: maxPrice - minPrice, timeRange: maxDateTime.getTime() - minDateTime.getTime() };\n            }\n            this.pointSize.y = this.innerHeight / this.bound.range;\n            this.drawGrids();\n            // Plot the chart\n            if (this.options.type === charttype_1.ChartType.Candlestick) {\n                this.plotCandlesticks();\n            }\n            this.drawFlag();\n        }\n        /** Render the underlying grids */\n\n    }, {\n        key: \"drawGrids\",\n        value: function drawGrids() {\n            // Draw horizontal grid\n            var context = this.element.getContext(\"2d\");\n            context.strokeStyle = this.style.gridColor;\n            for (var index = 0; index <= this.maxDataHeight; index++) {\n                var pos = this.padding * this.height + this.gridSize.height * index;\n                context.beginPath();\n                context.setLineDash([10, 5]);\n                context.moveTo(0, pos);\n                context.lineTo(this.width, pos);\n                context.stroke();\n            }\n            // Draw vertical grid\n            context.strokeStyle = this.style.gridColor;\n            for (var _index = 0; _index <= this.dataCursor.max; _index += 6) {\n                var _pos = this.width * (1 - this.padding) - this.gridSize.width * _index;\n                context.beginPath();\n                context.setLineDash([10, 5]);\n                context.moveTo(_pos + this.scrollPos.x, 0);\n                context.lineTo(_pos + this.scrollPos.x, this.height);\n                context.stroke();\n            }\n        }\n        /** Render the line chart */\n\n    }, {\n        key: \"plotLine\",\n        value: function plotLine() {}\n        /** Render the bar chart */\n\n    }, {\n        key: \"plotBars\",\n        value: function plotBars() {}\n        /** Render the area chart */\n\n    }, {\n        key: \"plotArea\",\n        value: function plotArea() {}\n        /** Render the candlesticks chart */\n\n    }, {\n        key: \"plotCandlesticks\",\n        value: function plotCandlesticks() {\n            var context = this.element.getContext(\"2d\");\n            for (var index = 0; index <= this.dataCursor.max; index++) {\n                var candle = this.displayData[index];\n                if (candle) {\n                    if (candle.direction === \"bull\") {\n                        context.strokeStyle = this.style.bullColor;\n                        context.fillStyle = this.style.bullColor;\n                    } else if (candle.direction === \"bear\") {\n                        context.strokeStyle = this.style.bearColor;\n                        context.fillStyle = this.style.bearColor;\n                    } else {\n                        context.strokeStyle = this.style.flatColor;\n                        context.fillStyle = this.style.flatColor;\n                    }\n                    // Draw candle line\n                    var xpos = this.width * (1 - this.padding) - this.gridSize.width * index;\n                    var ypos = this.height * this.padding + this.pointSize.y * (this.bound.maxPrice - candle.high);\n                    context.beginPath();\n                    context.setLineDash([]);\n                    context.moveTo(xpos + this.scrollPos.x, ypos);\n                    context.lineTo(xpos + this.scrollPos.x, ypos + this.pointSize.y * candle.range);\n                    context.stroke();\n                    // Draw candle body\n                    var candleBody = {\n                        x: xpos - 0.5 * this.gridSize.width + Math.floor(this.gridSize.width / 4) + 1 + this.scrollPos.x,\n                        y: 0,\n                        width: this.gridSize.width - Math.floor(this.gridSize.width / 2),\n                        height: this.pointSize.y * Math.abs(candle.close - candle.open)\n                    };\n                    if (candle.direction === \"bear\") {\n                        candleBody.y = ypos + this.pointSize.y * (candle.high - candle.open);\n                    } else if (candle.direction === \"bull\") {\n                        candleBody.y = ypos + this.pointSize.y * (candle.high - candle.close);\n                    } else {\n                        candleBody.y = ypos + this.pointSize.y * (candle.high - candle.open);\n                        candleBody.height = 1;\n                    }\n                    context.fillRect(candleBody.x, candleBody.y, candleBody.width, candleBody.height);\n                }\n            }\n        }\n    }, {\n        key: \"drawFlag\",\n        value: function drawFlag() {\n            var candle = this.data[0];\n            var context = this.element.getContext(\"2d\");\n            var ypos = this.height * this.padding + this.pointSize.y * (this.bound.maxPrice - candle.close);\n            if (candle.direction === \"bull\") {\n                context.strokeStyle = this.style.bullColor;\n                context.fillStyle = this.style.bullColor;\n            } else if (candle.direction === \"bear\") {\n                context.strokeStyle = this.style.bearColor;\n                context.fillStyle = this.style.bearColor;\n            } else {\n                context.strokeStyle = this.style.flatColor;\n                context.fillStyle = this.style.flatColor;\n            }\n            // Draw line\n            context.beginPath();\n            context.setLineDash([10, 5]);\n            context.moveTo(0, ypos);\n            context.lineTo(this.width, ypos);\n            context.stroke();\n            context.setLineDash([]);\n        }\n        // Scaling methods\n\n    }, {\n        key: \"setScaleX\",\n        value: function setScaleX(delta) {\n            var scale = this.scale.x + delta;\n            if (scale <= 2 && scale >= 0.5) {\n                this.scale.x = scale;\n                var scrolledCandles = this.scrollPos.x / this.gridSize.width;\n                this.scrollPos.x = scrolledCandles * this.gridSize.width;\n            }\n        }\n    }, {\n        key: \"innerHeight\",\n        get: function get() {\n            return this.height - 2 * this.padding * this.height;\n        }\n    }, {\n        key: \"innerWidth\",\n        get: function get() {\n            return this.width * (1 - this.padding);\n        }\n    }]);\n\n    return Viewport;\n}();\n\nexports.Viewport = Viewport;\n//# sourceMappingURL=viewport.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Finchart = void 0;\nvar data_1 = require(\"./data\");\nvar options_1 = require(\"./options\");\nvar priceaxis_1 = require(\"./priceaxis\");\nvar style_1 = require(\"./style\");\nvar timeaxis_1 = require(\"./timeaxis\");\nvar toolbar_1 = require(\"./toolbar\");\nvar viewport_1 = require(\"./viewport\");\n/** Finchart is an advanced financial charting library developed at Bahtera Capital */\n\nvar Finchart = function () {\n    /** Create new Finchart instance from an element */\n    function Finchart(selector, data, options, style) {\n        _classCallCheck(this, Finchart);\n\n        // Chart options & styling\n        this.options = options !== undefined ? this.options = options : this.options = options_1.DefaultChartOptions;\n        this.style = style !== undefined ? this.style = style : this.style = style_1.DefaultChartStyle;\n        // Process data\n        this.data = this.prepareData(data);\n        // Process chart interface\n        this.configureGUI(selector);\n        this.registerEvents();\n    }\n    // Computed properties\n\n\n    _createClass(Finchart, [{\n        key: \"prepareData\",\n\n        /** Convert input data to acceptable types */\n        value: function prepareData(data) {\n            var processedData = [];\n            var type = \"number\";\n            try {\n                // Determine the input data type\n                if (isNaN(data[0])) {\n                    type = \"ohlc\";\n                }\n                // Process number type\n                if (type === \"number\") {\n                    var _iteratorNormalCompletion = true;\n                    var _didIteratorError = false;\n                    var _iteratorError = undefined;\n\n                    try {\n                        for (var _iterator = data[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                            var item = _step.value;\n\n                            if (!isNaN(item)) {\n                                processedData.push(item);\n                            } else {\n                                throw \"Data type must be consistent (Array<number>)\";\n                            }\n                        }\n                    } catch (err) {\n                        _didIteratorError = true;\n                        _iteratorError = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion && _iterator.return) {\n                                _iterator.return();\n                            }\n                        } finally {\n                            if (_didIteratorError) {\n                                throw _iteratorError;\n                            }\n                        }\n                    }\n                }\n                // Process ohlc type\n                if (type === \"ohlc\") {\n                    var _iteratorNormalCompletion2 = true;\n                    var _didIteratorError2 = false;\n                    var _iteratorError2 = undefined;\n\n                    try {\n                        for (var _iterator2 = data[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                            var _item = _step2.value;\n\n                            if (isNaN(_item)) {\n                                processedData.push(new data_1.OHLC(_item[0], _item[1], _item[2], _item[3], _item[4], _item[5]));\n                            } else {\n                                throw \"Data type must be consistent (Array<OHLC>)\";\n                            }\n                        }\n                    } catch (err) {\n                        _didIteratorError2 = true;\n                        _iteratorError2 = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                _iterator2.return();\n                            }\n                        } finally {\n                            if (_didIteratorError2) {\n                                throw _iteratorError2;\n                            }\n                        }\n                    }\n                }\n            }\n            // Returns any errors\n            catch (e) {\n                console.error(\"Prepare Data Error: \" + e);\n            }\n            // Return generated data\n            finally {\n                return processedData.reverse();\n            }\n        }\n        /** Configure chart GUI */\n\n    }, {\n        key: \"configureGUI\",\n        value: function configureGUI(selector) {\n            try {\n                // Configure chart element\n                this.element = document.querySelector(selector);\n                if (this.element === null) throw \"Cannot find \" + selector;\n                // Set element dimension to fill container\n                // this.element.style.width = \"100%\"\n                // this.element.style.height = \"100%\"\n                this.element.className = \"finchart\";\n                this.element.style.position = \"relative\";\n                this.element.style.overflow = \"hidden\";\n                this.element.style.backgroundColor = this.style.bgColor;\n                this.element.style.font = this.style.font;\n                // Configure toolbar, viewport, and axes\n                this.configureViewport();\n                this.configureTimeAxis();\n                this.configurePriceAxis();\n                this.configureToolbar();\n            } catch (e) {\n                console.error(\"Initializing Error: \" + e);\n            }\n        }\n    }, {\n        key: \"configureToolbar\",\n        value: function configureToolbar() {\n            var toolbarElement = document.createElement(\"div\");\n            toolbarElement.setAttribute(\"class\", \"toolbar\");\n            toolbarElement.style.width = \"100%\";\n            toolbarElement.style.position = \"absolute\";\n            toolbarElement.style.top = \"0\";\n            toolbarElement.style.left = \"0\";\n            toolbarElement.style.height = this.style.toolbarHeight + \"px\";\n            toolbarElement.style.borderBottom = \"2px solid \" + this.style.borderColor;\n            this.toolbar = new toolbar_1.Toolbar(toolbarElement, this.viewport);\n            this.element.appendChild(this.toolbar.element);\n        }\n    }, {\n        key: \"configureViewport\",\n        value: function configureViewport() {\n            var viewportElement = document.createElement(\"canvas\");\n            viewportElement.setAttribute(\"class\", \"viewport\");\n            viewportElement.style.position = \"absolute\";\n            viewportElement.style.top = this.style.toolbarHeight + \"px\";\n            viewportElement.style.left = \"0\";\n            viewportElement.width = this.element.offsetWidth - this.style.priceAxisWidth;\n            viewportElement.height = this.element.offsetHeight - this.style.toolbarHeight - this.style.timeAxisHeight;\n            viewportElement.style.width = viewportElement.width + \"px\";\n            viewportElement.style.height = viewportElement.height + \"px\";\n            this.element.appendChild(viewportElement);\n            this.viewport = new viewport_1.Viewport(viewportElement, this.data, this.options, this.style);\n        }\n    }, {\n        key: \"configurePriceAxis\",\n        value: function configurePriceAxis() {\n            this.priceAxis = new priceaxis_1.PriceAxis(this);\n        }\n    }, {\n        key: \"configureTimeAxis\",\n        value: function configureTimeAxis() {\n            var timeAxisElement = document.createElement(\"div\");\n            timeAxisElement.setAttribute(\"class\", \"time-axis\");\n            timeAxisElement.style.width = \"100%\";\n            timeAxisElement.style.height = this.style.timeAxisHeight + \"px\";\n            timeAxisElement.style.position = \"absolute\";\n            timeAxisElement.style.bottom = \"0\";\n            timeAxisElement.style.left = \"0\";\n            timeAxisElement.style.borderTop = \"2px solid \" + this.style.borderColor;\n            timeAxisElement.style.overflow = \"hidden\";\n            timeAxisElement.style.cursor = \"ew-resize\";\n            timeAxisElement.style.userSelect = \"none\";\n            this.timeAxis = new timeaxis_1.TimeAxis(timeAxisElement, this.viewport);\n            this.element.appendChild(this.timeAxis.element);\n        }\n    }, {\n        key: \"renderElements\",\n        value: function renderElements() {\n            this.viewport.element.width = this.viewport.pixelRatio * (this.element.offsetWidth - this.style.priceAxisWidth);\n            this.viewport.element.height = this.viewport.pixelRatio * (this.element.offsetHeight - this.style.toolbarHeight - this.style.timeAxisHeight);\n            this.viewport.element.style.width = this.element.offsetWidth - this.style.priceAxisWidth + \"px\";\n            this.viewport.element.style.height = this.element.offsetHeight - this.style.toolbarHeight - this.style.timeAxisHeight + \"px\";\n            this.viewport.render();\n            this.priceAxis.plotPriceLabels();\n            this.priceAxis.drawFlag();\n            this.timeAxis.plotDateTimeLabels();\n        }\n    }, {\n        key: \"registerEvents\",\n        value: function registerEvents() {\n            var _this = this;\n\n            // Resize\n            window.addEventListener(\"resize\", function () {\n                _this.renderElements();\n            });\n            // Mouse scroll\n            this.viewport.element.addEventListener(\"wheel\", function (e) {\n                _this.viewport.scrollPos.x -= _this.viewport.pixelRatio * e.deltaX;\n                _this.renderElements();\n                if (_this.viewport.scrollPos.x < 0) {\n                    window.requestAnimationFrame(function () {\n                        _this.viewport.scrollPos.x = 0;\n                        _this.renderElements();\n                    });\n                }\n                if (_this.viewport.scrollPos.x > _this.data.length * _this.viewport.gridSize.width - _this.viewport.width + 100) {\n                    window.requestAnimationFrame(function () {\n                        _this.viewport.scrollPos.x = _this.data.length * _this.viewport.gridSize.width - _this.viewport.width + 100;\n                        _this.renderElements();\n                    });\n                }\n            });\n            // Mouse drag\n            var clickStartX = 0;\n            var mouseMoveListener = function mouseMoveListener(e) {\n                _this.viewport.scrollPos.x -= _this.viewport.pixelRatio * (clickStartX - e.clientX);\n                clickStartX = e.clientX;\n                _this.renderElements();\n                if (_this.viewport.scrollPos.x < 0) {\n                    window.requestAnimationFrame(function () {\n                        _this.viewport.scrollPos.x = 0;\n                        _this.renderElements();\n                    });\n                }\n                if (_this.viewport.scrollPos.x > _this.data.length * _this.viewport.gridSize.width - _this.viewport.width + 100) {\n                    window.requestAnimationFrame(function () {\n                        _this.viewport.scrollPos.x = _this.data.length * _this.viewport.gridSize.width - _this.viewport.width + 100;\n                        _this.renderElements();\n                    });\n                }\n            };\n            this.viewport.element.addEventListener(\"mousedown\", function (e) {\n                clickStartX = e.clientX;\n                _this.viewport.element.addEventListener(\"mousemove\", mouseMoveListener);\n                _this.viewport.element.addEventListener(\"mouseup\", function (e) {\n                    _this.viewport.element.removeEventListener(\"mousemove\", mouseMoveListener);\n                });\n            });\n            // Touch events\n            var touchStart = 0;\n            var touchStartTime = 0;\n            var touchVelocity = 0;\n            var touchMoveListener = function touchMoveListener(e) {\n                var deltaX = touchStart - e.touches[0].clientX;\n                _this.viewport.scrollPos.x -= _this.viewport.pixelRatio * deltaX;\n                touchVelocity = Math.round(deltaX / (Date.now() - touchStartTime) * 10);\n                touchStart = e.touches[0].clientX;\n                touchStartTime = Date.now();\n                _this.renderElements();\n                if (_this.viewport.scrollPos.x < 0) {\n                    window.requestAnimationFrame(function () {\n                        _this.viewport.scrollPos.x = 0;\n                        _this.renderElements();\n                    });\n                }\n                if (_this.viewport.scrollPos.x > _this.data.length * _this.viewport.gridSize.width - _this.viewport.width + 100) {\n                    window.requestAnimationFrame(function () {\n                        _this.viewport.scrollPos.x = _this.data.length * _this.viewport.gridSize.width - _this.viewport.width + 100;\n                        _this.renderElements();\n                    });\n                }\n            };\n            this.viewport.element.addEventListener(\"touchstart\", function (e) {\n                touchStart = e.touches[0].clientX;\n                touchStartTime = Date.now();\n                _this.viewport.element.addEventListener(\"touchmove\", touchMoveListener);\n                _this.viewport.element.addEventListener(\"touchend\", function (e) {\n                    _this.viewport.element.removeEventListener(\"touchmove\", touchMoveListener);\n                    if (_this.viewport.scrollPos.x < 0) {\n                        window.requestAnimationFrame(function () {\n                            _this.viewport.scrollPos.x = 0;\n                            _this.renderElements();\n                        });\n                    }\n                });\n            });\n            // Time-axis scale\n            this.timeAxis.element.addEventListener(\"mousedown\", function (e) {\n                var startPos = e.clientX;\n                var handleDrag = function handleDrag(dragEvent) {\n                    var delta = (startPos - dragEvent.clientX) / 1000;\n                    _this.viewport.setScaleX(delta);\n                    _this.renderElements();\n                    startPos = dragEvent.clientX;\n                };\n                _this.timeAxis.element.addEventListener(\"mousemove\", handleDrag);\n                _this.timeAxis.element.addEventListener(\"mouseup\", function () {\n                    _this.timeAxis.element.removeEventListener(\"mousemove\", handleDrag);\n                });\n            });\n        }\n    }, {\n        key: \"devicePixelRatio\",\n        get: function get() {\n            return window.devicePixelRatio;\n        }\n    }, {\n        key: \"viewportSize\",\n        get: function get() {\n            return {\n                width: this.viewport.width / this.devicePixelRatio,\n                height: this.viewport.height / this.devicePixelRatio\n            };\n        }\n    }, {\n        key: \"bound\",\n        get: function get() {\n            return this.viewport.bound;\n        }\n    }, {\n        key: \"maximumDataHeight\",\n        get: function get() {\n            return this.viewport.maxDataHeight;\n        }\n    }, {\n        key: \"padding\",\n        get: function get() {\n            return this.viewport.padding;\n        }\n    }, {\n        key: \"gridSize\",\n        get: function get() {\n            return {\n                width: this.viewport.gridSize.width / this.devicePixelRatio,\n                height: this.viewport.gridSize.height / this.devicePixelRatio\n            };\n        }\n    }, {\n        key: \"pointSize\",\n        get: function get() {\n            return {\n                x: this.viewport.pointSize.x / this.devicePixelRatio,\n                y: this.viewport.pointSize.y / this.devicePixelRatio\n            };\n        }\n    }]);\n\n    return Finchart;\n}();\n\nexports.Finchart = Finchart;\n// Keep track of how many instances in a page\nFinchart.count = 0;\n//# sourceMappingURL=finchart.js.map"],"names":["root","factory","exports","module","define","amd","a","i","self","ChartType","Object","defineProperty","value","_createClass","defineProperties","target","props","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","OHLC","datetime","open","high","low","close","volume","instance","TypeError","_classCallCheck","this","utc","Date","replace","localDate","getTime","getTimezoneOffset","undefined","get","barRange","DefaultChartOptions","charttype_1","timeframe_1","type","Candlestick","timeframe","Timeframe","H1","displayFlag","PriceAxis","parent","initStyle","drawElement","plotPriceLabels","options","drawFlag","styleClass","document","querySelectorAll","forEach","el","remove","element","createElement","className","innerHTML","style","toolbarHeight","priceAxisWidth","timeAxisHeight","viewportSize","height","borderColor","bgColor","labelColor","querySelector","appendChild","delta","bound","range","maximumDataHeight","index","label","innerText","maxPrice","toString","padEnd","slice","top","padding","gridSize","candle","data","ypos","pointSize","y","color","direction","substr","background","DefaultChartStyle","gridColor","bullColor","bearColor","flatColor","font","TimeAxis","viewport","plotDateTimeLabels","_this","lastPeriodIndex","_loop","item","displayData","previousItem","timeLabelText","date","getHours","width","rightPos","pixelRatio","scrollPos","x","position","right","textAlign","periodLabel","_rightPos","id","getDate","getMonth","padStart","paddingTop","boxSizing","borderLeft","_periodLabel","_rightPos2","prevLabel","dataCursor","max","Toolbar","initSymbol","initTimeframe","initChartType","initFullscreenTrigger","display","symbolElement","lineHeight","borderRight","timeframeElement","_toConsumableArray","arr","Array","isArray","arr2","from","Viewport","scale","window","devicePixelRatio","render","context","getContext","clearRect","maxDataHeight","innerHeight","startIndex","scrolledPoints","Math","ceil","floor","maxDataLength","innerWidth","min","minPrice","minDateTime","maxDateTime","cursorDisplayData","apply","timeRange","map","v","drawGrids","plotCandlesticks","strokeStyle","pos","beginPath","setLineDash","moveTo","lineTo","stroke","_index","_pos","fillStyle","xpos","candleBody","abs","fillRect","scrolledCandles","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","Finchart","data_1","options_1","priceaxis_1","style_1","timeaxis_1","toolbar_1","viewport_1","selector","prepareData","configureGUI","registerEvents","processedData","isNaN","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","push","err","return","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_item","e","console","error","reverse","overflow","backgroundColor","configureViewport","configureTimeAxis","configurePriceAxis","configureToolbar","toolbarElement","setAttribute","left","borderBottom","toolbar","viewportElement","offsetWidth","offsetHeight","priceAxis","timeAxisElement","bottom","borderTop","cursor","userSelect","timeAxis","addEventListener","renderElements","deltaX","requestAnimationFrame","clickStartX","mouseMoveListener","clientX","removeEventListener","touchStart","touchStartTime","touchMoveListener","touches","round","now","startPos","handleDrag","dragEvent","setScaleX","count"],"sourceRoot":""}